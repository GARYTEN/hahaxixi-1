
const $ = new Env('京东快递签到');

const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
let jdNotify = true;//是否关闭通知，false打开通知推送，true关闭通知推送
const randomCount = $.isNode() ? 20 : 5;
//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message;
var _0xodf='jsjiami.com.v6',_0x5d62=[_0xodf,'w63ChcKgw5JsNw==','D0XDv8Om','XMKNOUwJTQ==','wqDDuMOtw5PDjTTDqw==','Q8K3woDDoQ==','wrHDkGw=','w5vCl8OCw7HCkcKURMOY','woUqw5M=','WsOZwpXCjsO3','KMK1Fg==','YS7CssKMwqLCrsKn','w63DkMOpY8OCH2zCo8KZ','wqHCscKD','wqLCoMODwprCtwg=','Cyl3SMOvwr3Dtw==','w57DisO1YA==','wrPDty0KbcOUwpk=','w5zDmsOwbcOZCXo=','wrkdwrDCozYS','LMKuBcKgwp7Do3F4w6/ClFPCvcOqwr1jWcKywqYDZRIEwo3Dmw==','w5BLw7VawqpNDMOMwrgVwpZ9QsO3IsKPwp7CpmfDqxhWQQvCtMOtw7FKQ1UyAsO3wrxRw7goR8OhejrDp8Ou','w73CvmUjwos=','w5jDkgQ1w7k=','w6XDocK7NQnDpg==','P07Ds8OgNkDCsV4=','w7HDjWDClMKO','wr3DkH51wps=','Y8KewovCqcOeD10=','w73DmsKZwqbCmw==','wpbChj7DncOMRsOc5b2t5aWI44Oq5LqA5Lik6LeO5Y2z','wqfCh04EcQ==','wq3DoMKMeVnCucKaAA==','w7Vew7bDvXlKwoLDh8OGw6g=','wr3DjVZ/woRGwo8=','w6sTwp0=','5Luo5LuG6LWX5Yyn','Ql9ew6zDii/Cong=','LT1fwr7Dg8KK','DVXDv8O3AQ==','YMKHRgZtw5dXw44Ow54=','wq/CrsOBwpQ=','acKCwqjCrcOQA+W3geWnqeaWhsKlFcOx','wpTCvMOJwoPCkAwNKA==','ZsKxwpbDu8KawoZVaQ==','cMKDXAFL','w6wGwpc=','wo7CmuWlnOi1l8K0T+WOv+WZpMK7w6s=','wrDDvTcL','wrnDoT4=','44OE5Li+5LmF6LWI5Y+7','w5TCvsKQw7xR','wpjCs8KpRzo=','Z8KUwqPDnMK/','w5guwrLDgnY=','ECIvwrzCsg==','PmMiwo0m','wrfCpMKwUiQ=','w4XCmMKaw5dZ','GMKwWsO+fQ==','w4jDs8Kdwr3Chg==','wqvDucOyw7LDng==','w6XDjwo+w5g=','RMKSYiBn','wooEKzHDsw==','w67CsEMRwpE=','w55rw4Z7wrU=','wrpTwp/CjQ0=','w5jCvVoE','w5Ryw45mwqs=','w6oPwp0=','w4tLw7NDwrcQSsKFwqM=','wrjDvT4=','w5PCscKZw7w=','wpXCtG5jUg==','VMKwZcKcwqs=','wrDDlXtHwrk=','ZcKXGUop','LSAPwobChw==','woHCvn1HbQ==','GiNlSA==','SD8KZcKR','WsKKwovCq8O7','w5zDssKTwqjCkQ==','wp3CsGg=','5Lie5pW356yn5Yme5oic5Yi/77+06I+p5b2o','figzeMKXwr/CuQ==','AQ45woLCtQ==','5Lm75pW756yA5Yqy5oiP5YuW77yA6I245byb','UMKtwp3DvcKxwolM','fsKEwrPCqsOc','wrzwtJCiw70=','wpXCsGFR','wrwbwrjCsg==','w6JFaCd3','OyIGwo3Cvg==','wpMww5cnFsOX','w5LDmx8Bw7A=','w61Owo4=','eU1Ww7s=','QcKXBXAn','5Lm95peY5beN56yw5Yik','wqrDuMO4','5by+5bqA77+j','YMKWWgtNw59Kw4ER','5Lme5Lib5p+C5YmI5Ziy6Kyh6ZWw5pWE5o+U5LqI56iF77+v6K635qKI5p2q6ISJ6LqI6K665aaD57+D57uh5oKZ5YWN','a8KTXsK9woo=','wojCv8OZwp7CiQ==','w6zDu2DDmx3DtA==','woomAzjDs1I=','w5VMw6Y=','w7LDjXnCkg==','44G65LqR5LqK6La05Y6P','w4vDlAkXw60=','wp/CtmxfRsO7OiA=','w7PCqQsFwqDDtMKtw5pbw4kLGl9QNAItEz5CM8KXw6FncsOuw7bDsURbwodgw4s=','DsO3TMOLVMKXJsOdE8OnKwpHHX7CuyEybsK+YcKfw63Csmd3w7rCn20lw7ULEFQ=','w6XCiConw5Acw5EmJ8K0f8O8w40=','HANdwpnDk8KbJgQLGMKDwqduw6s=','wp/CkcK2JsKb','w59JSz5nw4QwwojDjiHCq8KDAS9kfiXCnA7CtzUXwrbDmsKZ','w6vCu8Kww7bCmsO6a8O3wp49wohcaMOd','bj/CssKYwrDDoMOpw7cXwpfCoglOwokpYk8SfsKSwrNbw4Ute8OxJ1PDpkPChDnDugHDscO+w5ElwowoLFw1KkrDmAjDi8OPO8Kmwos=','YS3CvsKJMA==','w4lWw61gwrY=','ecKHUBJRw51Qw5Q=','w4bDu3HDhjc=','w4vCvWAgwqs=','w6EZwoDDhkgQwrXCmFXDnsKuwoHDiMKmw7nCsT5UQjnDksObZ1jDvsK5bCxRD1HDq8K2','w77DgMK6BCU=','wrJIHsOWEw==','w5XCncOneMObE3vDi8OnVsOILEXCnHXDggVkwpNPCcK1XjjDsMKRb8KJw6BINg==','dgkya8KZ','ecKMwqrCo8KUFVrCrMKr','VsKRBVA=','w5Rhw51wMA==','w6hqwpNAw5M=','w5TDsAg=','w6LClnYlwoDDlMKNw4t1wqx0di8=','UMKQAQ==','XWhkw4vDlwvCnULCssO5w5Rnw7c=','w7rCkU9DwqZ9wr5WV8OBBMKfwqY=','w5Mzwr/Dl8KWagdYwqLCmg==','w7jDpsKjwpvCo8Kpw74=','OMKjRMOpYA==','w4tlwrxw','w7Jsw79NIk5gwr9cWcK7BTTCgMK2NcOqG8Oiw43CpsK/DUwow7wcw4rDmXo1wrAQGsK3S8KSwq4VwozCusKrGEPChHXCosKrw4XDtFfDusOKwpnDksOMP8OLwqgxwrHCmmIdw5cfc8OLw5/CinrDr8KowqnCqMO3wrU=','w6ABwpbDtsKs','wph6MMOBAQ==','fcK0GFUB','XsOZworCmA==','dh/CncKxOmnChjvCqTMcwqvDrX5/FcKWHEvDusK1w6XCrF1XVcOmB8KYMCnDlw==','dlxLw7LDrS3CrmnCmsORw78Gw5sKw7VXw78LXMKbwo9CQhfDkMKWw4nDnMOwBDDDusOW','w6gdwoTDmlJJw7vDg0vDgMKzwoDDiMKxwrjCvH0ZGTHDk8KAIkHDvMK/YS0IABbCvcKyMMO4aMOkw6Z1ZMKBcRRUwrrCt2FfZQ==','HcOtwqbDmsKRwrVnTcO5A8Kjw4fCrg==','wrhDwprCqA==','EyhgXcOtw7XDu8KwbMOAw75dw6vCsMKuwoFnw79uwqdiwqDDgwjCjSpWwo4LwrF4EVcLwrMCw4dYwq3DtMO9wphKCMKzw4DCoEnCv8KqwqjDlglBUEvDiMOFw60ww73CkMKnQ8KgLXkjHn9zw7ZTe8OKw7Fj','PRpJXMOs','Dxh0wp7Dlw==','wr0SwrDCpBc=','wo3ClcKUVRzDq8KR','wrFzG8OVAg==','w6QGwpbDtsKN','w5HDo0LCnMKW','wqjCn8KEwowoNcOpJ0dvwrvCsMOqCWINw75YKsObBnXDpiMSemh6woLCsH9GeC40wo3DmB3DrsKJBsOQVjw1fcKNMMKpFR1Vw6DDuA==','wogww4kCCw==','fsOiwprCnsOr','woTCrkJZZw==','w7kQwrvDnEI=','YMKGwqrCrsOo','IMKGaMOpe8KYAMO1OMKR','wrPDm250woJbwoA=','w63DrMOEasOl','DVjDosO2GVXCvQ==','wrLCjE1WRg==','wqN4LMOSPQ==','BcK6XsOP','w7XDnxUQw6E=','UcOwwq7Cs8OA','w4LDvWbDrwM=','wr7DigMhZQ==','e0Nc','w7HDosK6wpo=','w6HCjsO8wrjorKnmsK/lpZHotajvvb3orI3moajmnYDnvYnotZ3ph6borYE=','DTxxRMOz','DcKWHcKhwqk=','w7XCmsKbw69F','RcKfBVAI','w6/Dq1DCj8Ki','woRywo7CvzQ=','JlgIwpwKFcOgw54=','wrbDl110wpo=','ZsKCwqA=','w5DCgcKjw7hO','fcO5Ih1m','w7w0woPDsk0=','UMOXwp4=','5b+W5bqG77yA','wpDDmHJ+wpA=','bQbCosKLPQ==','w5bCtcKNw6o=','w6APwojDgMKoSCg=','ecKGwqzDjcKRwqVtSw==','w5J2XShf','w7vDmiHDhloLWcKI','w4nCgcOqw6DCuA==','5LuS5pWV56yQ5YmG5oik5Yq277+/6Iyg5byx','dENVw6rDoSDCuw==','wqPChMKewog+YcKy','w6XCusOpw5nCsQ==','KvGEg7HDjA==','w4zDnCUkw50=','w6kCwpDDoMKqXw==','w47Dh8K7Kik=','B0szwrIw','dMOfCQ==','N8KuA8K5woPCvjcxw7c=','wqDCv8KU','wp3CkcKkw5Dor57msKzlp6votJXvv4bor5PmoJjmn6Dnv4rotozphobor7E=','wp5owqg=','5Lmz5Lmo5p+R5Ym25Zi76K+f6ZWG5pad5o6C5LuY56mN77+P6K6G5qOa5py06IaQ6Lit6K635aWU57+e57me5oG95YWd','6K6O5Yqz6ZqO5oSi5Z61wozDvcKYTsOc6LyD5YWd5qKW5L2n5pa55YS25a+ww4fluq/orLjpgYzovYnoh6vmnJ/ljJPoj5jljrTDiCbCnzY5cQ==','wowrw4I=','G8K0QMOe','w7/CtcO2w7zCsA==','w6zDqsKj','w6XDunE=','wr3CnVgIZ8OXAMK/w4U=','wqvCh1w=','MtejQRsjrQiFamYxi.HBcoWm.v6ISO=='];(function(_0x4f394b,_0x2c2c83,_0x519ab6){var _0x29d373=function(_0xbf1c26,_0x4d5c79,_0x453612,_0x3b7ab5,_0x51b795){_0x4d5c79=_0x4d5c79>>0x8,_0x51b795='po';var _0x25f323='shift',_0xf43e1e='push';if(_0x4d5c79<_0xbf1c26){while(--_0xbf1c26){_0x3b7ab5=_0x4f394b[_0x25f323]();if(_0x4d5c79===_0xbf1c26){_0x4d5c79=_0x3b7ab5;_0x453612=_0x4f394b[_0x51b795+'p']();}else if(_0x4d5c79&&_0x453612['replace'](/[MteQRrQFYxHBWISO=]/g,'')===_0x4d5c79){_0x4f394b[_0xf43e1e](_0x3b7ab5);}}_0x4f394b[_0xf43e1e](_0x4f394b[_0x25f323]());}return 0x79a97;};return _0x29d373(++_0x2c2c83,_0x519ab6)>>_0x2c2c83^_0x519ab6;}(_0x5d62,0xe0,0xe000));var _0x50e8=function(_0x4a4f30,_0x778490){_0x4a4f30=~~'0x'['concat'](_0x4a4f30);var _0x2bb774=_0x5d62[_0x4a4f30];if(_0x50e8['ddRnqZ']===undefined){(function(){var _0x4e7997=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x31deb8='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4e7997['atob']||(_0x4e7997['atob']=function(_0x976586){var _0x26bd9d=String(_0x976586)['replace'](/=+$/,'');for(var _0x218dc2=0x0,_0x370578,_0x52e271,_0x1c4af8=0x0,_0x16922f='';_0x52e271=_0x26bd9d['charAt'](_0x1c4af8++);~_0x52e271&&(_0x370578=_0x218dc2%0x4?_0x370578*0x40+_0x52e271:_0x52e271,_0x218dc2++%0x4)?_0x16922f+=String['fromCharCode'](0xff&_0x370578>>(-0x2*_0x218dc2&0x6)):0x0){_0x52e271=_0x31deb8['indexOf'](_0x52e271);}return _0x16922f;});}());var _0x16f1fd=function(_0x296a7f,_0x778490){var _0x23ccfa=[],_0x21b204=0x0,_0x41abdc,_0x2b3526='',_0x5391ef='';_0x296a7f=atob(_0x296a7f);for(var _0x2efd77=0x0,_0x11e656=_0x296a7f['length'];_0x2efd77<_0x11e656;_0x2efd77++){_0x5391ef+='%'+('00'+_0x296a7f['charCodeAt'](_0x2efd77)['toString'](0x10))['slice'](-0x2);}_0x296a7f=decodeURIComponent(_0x5391ef);for(var _0x421a9c=0x0;_0x421a9c<0x100;_0x421a9c++){_0x23ccfa[_0x421a9c]=_0x421a9c;}for(_0x421a9c=0x0;_0x421a9c<0x100;_0x421a9c++){_0x21b204=(_0x21b204+_0x23ccfa[_0x421a9c]+_0x778490['charCodeAt'](_0x421a9c%_0x778490['length']))%0x100;_0x41abdc=_0x23ccfa[_0x421a9c];_0x23ccfa[_0x421a9c]=_0x23ccfa[_0x21b204];_0x23ccfa[_0x21b204]=_0x41abdc;}_0x421a9c=0x0;_0x21b204=0x0;for(var _0x16174e=0x0;_0x16174e<_0x296a7f['length'];_0x16174e++){_0x421a9c=(_0x421a9c+0x1)%0x100;_0x21b204=(_0x21b204+_0x23ccfa[_0x421a9c])%0x100;_0x41abdc=_0x23ccfa[_0x421a9c];_0x23ccfa[_0x421a9c]=_0x23ccfa[_0x21b204];_0x23ccfa[_0x21b204]=_0x41abdc;_0x2b3526+=String['fromCharCode'](_0x296a7f['charCodeAt'](_0x16174e)^_0x23ccfa[(_0x23ccfa[_0x421a9c]+_0x23ccfa[_0x21b204])%0x100]);}return _0x2b3526;};_0x50e8['QATedV']=_0x16f1fd;_0x50e8['pDIwLV']={};_0x50e8['ddRnqZ']=!![];}var _0x24aa53=_0x50e8['pDIwLV'][_0x4a4f30];if(_0x24aa53===undefined){if(_0x50e8['DyCXqt']===undefined){_0x50e8['DyCXqt']=!![];}_0x2bb774=_0x50e8['QATedV'](_0x2bb774,_0x778490);_0x50e8['pDIwLV'][_0x4a4f30]=_0x2bb774;}else{_0x2bb774=_0x24aa53;}return _0x2bb774;};const tok=undefined!=process[_0x50e8('0',']04d')]&&undefined!=process[_0x50e8('1','H7Iq')]['PUTKEY']&&JSON[_0x50e8('2','2uU^')](process[_0x50e8('3','2uU^')][_0x50e8('4','Tw[)')])['indexOf']('be5026a8-08e5-40e3-9811-3470d9d7ffa0||63b343f1-e2fa-4a1d-b291-d9772dbb7545|||||b02bfc7c-28e9-4206-a385-a6ad44a60a6d')>-0x1?!![]:![];if(!tok){process[_0x50e8('5','j8lB')](0x0);}if($[_0x50e8('6','iZX0')]()){Object['keys'](jdCookieNode)[_0x50e8('7','56wt')](_0x29ca5b=>{cookiesArr[_0x50e8('8','bHA1')](jdCookieNode[_0x29ca5b]);});if(process[_0x50e8('9','7[75')][_0x50e8('a','OddA')]&&process[_0x50e8('b','Cjq&')][_0x50e8('a','OddA')]===_0x50e8('c','DCiZ'))console[_0x50e8('d','uTpA')]=()=>{};}else{let cookiesData=$[_0x50e8('e','6PSU')](_0x50e8('f','rW&F'))||'[]';cookiesData=jsonParse(cookiesData);cookiesArr=cookiesData[_0x50e8('10','viKt')](_0x8f1e5d=>_0x8f1e5d[_0x50e8('11','*c#A')]);cookiesArr[_0x50e8('12','uFs*')]();cookiesArr[_0x50e8('13','rW&F')](...[$[_0x50e8('14','R48G')]('CookieJD2'),$['getdata']('CookieJD')]);cookiesArr[_0x50e8('15','rW&F')]();cookiesArr=cookiesArr[_0x50e8('16','LsKe')](_0x5da904=>_0x5da904!==''&&_0x5da904!==null&&_0x5da904!==undefined);}const JD_API_HOST=_0x50e8('17','uTpA');!(async()=>{var _0x289519={'zhiGl':_0x50e8('18','IN!8'),'jEvfd':function(_0x4b79c8,_0x151ec6){return _0x4b79c8<_0x151ec6;},'GIlIj':function(_0x3bb3a8,_0x190e1e){return _0x3bb3a8+_0x190e1e;},'bYNYY':function(_0x432996){return _0x432996();},'VUfmi':function(_0x3b22de,_0x525d1e){return _0x3b22de===_0x525d1e;},'ghiey':'dMhwU','oVpLo':_0x50e8('19','%r0D')};if(!cookiesArr[0x0]){$['msg']($['name'],'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x289519[_0x50e8('1a','XX&(')]});return;}for(let _0x4137b6=0x0;_0x289519['jEvfd'](_0x4137b6,cookiesArr[_0x50e8('1b',']04d')]);_0x4137b6++){if(cookiesArr[_0x4137b6]){cookie=cookiesArr[_0x4137b6];$[_0x50e8('1c','j8lB')]=decodeURIComponent(cookie['match'](/pt_pin=(.+?);/)&&cookie[_0x50e8('1d','8O6z')](/pt_pin=(.+?);/)[0x1]);$[_0x50e8('1e','7[75')]=_0x289519['GIlIj'](_0x4137b6,0x1);$[_0x50e8('1f','EtsZ')]=!![];$['nickName']='';message='';await _0x289519[_0x50e8('20','R&u8')](TotalBean);console['log'](_0x50e8('21','8O6z')+$[_0x50e8('22','2uU^')]+'】'+($['nickName']||$[_0x50e8('23','IVm@')])+_0x50e8('24','LsKe'));if(!$[_0x50e8('25','7[75')]){$[_0x50e8('26','B5GJ')]($['name'],'【提示】cookie已失效',_0x50e8('27','uTpA')+$['index']+'\x20'+($['nickName']||$[_0x50e8('28','#z6P')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x289519['zhiGl']});if($[_0x50e8('29','7flR')]()){if(_0x289519['VUfmi'](_0x289519[_0x50e8('2a','j8lB')],_0x289519['oVpLo'])){cookiesArr['push'](jdCookieNode[item]);}else{await notify[_0x50e8('2b','IAe@')]($[_0x50e8('2c','*c#A')]+_0x50e8('2d','EtsZ')+$[_0x50e8('2e','*c#A')],'京东账号'+$[_0x50e8('1e','7[75')]+'\x20'+$[_0x50e8('2f','bHA1')]+'\x0a请重新登录获取cookie');}}continue;}await _0x289519['bYNYY'](userSignIn);await showMsg();}}})()[_0x50e8('30','IAe@')](_0x819f1b=>{$[_0x50e8('31','N2mN')]('','❌\x20'+$['name']+_0x50e8('32','XX&(')+_0x819f1b+'!','');})['finally'](()=>{$[_0x50e8('33','R48G')]();});function showMsg(){var _0x6ff1b9={'gCIqI':function(_0x3313da){return _0x3313da();}};return new Promise(_0x11c6da=>{$[_0x50e8('34','R48G')]($['name'],'',_0x50e8('35','R48G')+$[_0x50e8('36','Tw[)')]+'】'+$['nickName']+'\x0a'+message);_0x6ff1b9[_0x50e8('37','h2AO')](_0x11c6da);});}function userSignIn(){var _0x48e920={'xHnNp':function(_0x1a60a8,_0x49fa61){return _0x1a60a8==_0x49fa61;},'OgRDg':_0x50e8('38','bHA1'),'mewEY':_0x50e8('39','N2mN'),'doQru':function(_0x53ed66,_0x1b864e){return _0x53ed66===_0x1b864e;},'WpJBD':function(_0x49d78d,_0x355081){return _0x49d78d!==_0x355081;},'QQacu':'TiFeF','mnmdr':_0x50e8('3a','6!*4'),'RsoqV':'OSHTA','VHEsz':_0x50e8('3b','NXgH'),'lMOLr':function(_0x27861b){return _0x27861b();},'FbjaB':function(_0x88957,_0x5e972d){return _0x88957===_0x5e972d;},'fTGQl':_0x50e8('3c','h2AO')};return new Promise(_0x491bf5=>{var _0x466b76={'qnORr':function(_0x13ca72,_0x59de3d){return _0x48e920[_0x50e8('3d','Tw[)')](_0x13ca72,_0x59de3d);},'tirSJ':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','dkaWZ':function(_0x415676,_0x536a2b){return _0x415676===_0x536a2b;},'yHqEr':_0x48e920['OgRDg'],'PiniD':_0x48e920[_0x50e8('3e','gE7G')],'lftzp':function(_0x116a7f,_0xec4f4d){return _0x48e920['doQru'](_0x116a7f,_0xec4f4d);},'UxWic':function(_0x4bc936,_0x479198){return _0x48e920[_0x50e8('3f','R&u8')](_0x4bc936,_0x479198);},'CqDWS':_0x48e920['QQacu'],'NEKcn':_0x48e920[_0x50e8('40','56wt')],'kuktJ':_0x48e920['RsoqV'],'IpuoW':_0x50e8('41','XX&('),'kMZbB':function(_0x33afc1,_0x2d216a){return _0x48e920[_0x50e8('42','IAe@')](_0x33afc1,_0x2d216a);},'KcSdY':_0x48e920['VHEsz'],'xRDuI':function(_0x43fe0b){return _0x48e920[_0x50e8('43','!JOG')](_0x43fe0b);}};if(_0x48e920[_0x50e8('44','%r0D')](_0x48e920[_0x50e8('45','IN!8')],_0x50e8('46','BfWm'))){$[_0x50e8('47','%r0D')](_0x48e920[_0x50e8('48','IN!8')](taskUrl),(_0x563055,_0x35e69e,_0x312b73)=>{try{if(_0x563055){console[_0x50e8('49','B5GJ')](''+JSON[_0x50e8('4a','IN!8')](_0x563055));console[_0x50e8('4b','R48G')](_0x35e69e);console['log']($[_0x50e8('4c','Tw[)')]+'\x20API请求失败，请检查网路重试');}else{if(_0x466b76[_0x50e8('4d','N!46')](_0x50e8('4e','C(ni'),_0x466b76['yHqEr'])){if(safeGet(_0x312b73)){if(_0x466b76[_0x50e8('4f','7[75')](_0x466b76[_0x50e8('50','iZX0')],_0x50e8('51','6!*4'))){_0x312b73=JSON[_0x50e8('52','N!46')](_0x312b73);if(_0x466b76['lftzp'](_0x312b73[_0x50e8('53','uFs*')],0x1)){if(_0x466b76[_0x50e8('54','Z6%&')](_0x50e8('55','EtsZ'),_0x466b76[_0x50e8('56','R&u8')])){console[_0x50e8('57','N!46')](_0x50e8('58','R48G')+_0x312b73[_0x50e8('59','Z6%&')][0x0][_0x50e8('5a','6!*4')]);message+=_0x50e8('5b','kldR')+_0x312b73[_0x50e8('5c','bHA1')][0x0][_0x50e8('5d','EtsZ')]+_0x50e8('5e','8O6z');}else{$[_0x50e8('5f','N!46')]();}}else if(_0x312b73[_0x50e8('60','LsKe')]===-0x1){if(_0x466b76[_0x50e8('61','7%gY')](_0x466b76[_0x50e8('62','6!*4')],_0x466b76['NEKcn'])){if(_0x466b76['qnORr'](typeof str,_0x50e8('63','Cjq&'))){try{return JSON[_0x50e8('64','XX&(')](str);}catch(_0x3fb81d){console[_0x50e8('65','6k]y')](_0x3fb81d);$['msg']($[_0x50e8('66','#z6P')],'',_0x466b76[_0x50e8('67','iZX0')]);return[];}}}else{console['log'](_0x50e8('68','7%gY'));message+='【签到】失败，今日已签到';}}else{console[_0x50e8('69','56wt')](_0x50e8('6a','DCiZ')+JSON[_0x50e8('6b','IAe@')](_0x312b73));}}else{_0x491bf5();}}}else{console['log'](e);console[_0x50e8('d','uTpA')](_0x50e8('6c','BfWm'));return![];}}}catch(_0x34dfa1){if(_0x466b76[_0x50e8('6d','C(ni')]===_0x466b76[_0x50e8('6e','*c#A')]){$[_0x50e8('6f','H7Iq')](_0x34dfa1,_0x35e69e);}else{$[_0x50e8('70','!JOG')](_0x34dfa1,_0x35e69e);}}finally{if(_0x466b76['kMZbB'](_0x466b76['KcSdY'],_0x466b76['KcSdY'])){$['logErr'](e,_0x35e69e);}else{_0x466b76['xRDuI'](_0x491bf5);}}});}else{return new Promise(_0x16be5f=>{$[_0x50e8('71','IN!8')]($[_0x50e8('72','8O6z')],'',_0x50e8('73','j8lB')+$[_0x50e8('74','XX&(')]+'】'+$[_0x50e8('75','N!46')]+'\x0a'+message);_0x16be5f();});}});}function taskUrl(){var _0x10a4eb={'vBSTc':_0x50e8('76','%r0D'),'ggnzP':'lop-proxy.jd.com','qilJo':'jingcai.jd.com','FovXX':'application/json;charset=utf-8','coIPx':_0x50e8('77','gE7G'),'wDoVX':_0x50e8('78','7[75'),'EYBoh':_0x50e8('79','7flR'),'kNogk':_0x50e8('7a','rW&F'),'jwEvU':_0x50e8('7b','7%gY'),'LiCMb':'https://jingcai-h5.jd.com/','iKzqe':_0x50e8('7c','OddA'),'MviRD':'JDUA'};return{'url':_0x50e8('7d','6PSU'),'body':_0x10a4eb[_0x50e8('7e','1#Wu')],'headers':{'Host':_0x10a4eb['ggnzP'],'lop-dn':_0x10a4eb[_0x50e8('7f','IN!8')],'biz-type':'service-monitor','app-key':_0x50e8('80','IAe@'),'access':'H5','content-type':_0x10a4eb[_0x50e8('81','H7Iq')],'clientinfo':_0x10a4eb[_0x50e8('82','%r0D')],'accept':_0x50e8('83','N2mN'),'jexpress-report-time':_0x10a4eb[_0x50e8('84',']04d')],'x-requested-with':_0x10a4eb[_0x50e8('85','V!68')],'source-client':'2','appparams':_0x50e8('86','rW&F'),'version':_0x10a4eb[_0x50e8('87','Z6%&')],'origin':_0x10a4eb['jwEvU'],'sec-fetch-site':_0x50e8('88','EtsZ'),'sec-fetch-mode':_0x50e8('89','iZX0'),'sec-fetch-dest':'empty','referer':_0x10a4eb[_0x50e8('8a','3Q&X')],'accept-language':_0x10a4eb[_0x50e8('8b','6k]y')],'Cookie':cookie,'User-Agent':$['isNode']()?process[_0x50e8('8c','kldR')][_0x50e8('8d','%r0D')]?process[_0x50e8('8e','iZX0')][_0x50e8('8f','#z6P')]:require(_0x50e8('90','7[75'))[_0x50e8('91','B5GJ')]:$[_0x50e8('92','R&u8')](_0x10a4eb[_0x50e8('93','gE7G')])?$['getdata'](_0x50e8('94','6k]y')):_0x50e8('95','3Q&X')}};}function TotalBean(){var _0x505126={'DVHqq':_0x50e8('96','B5GJ'),'KVeOp':function(_0x512d64,_0x1307ed){return _0x512d64!==_0x1307ed;},'azfUz':_0x50e8('97','V!68'),'bflsD':function(_0x43ee5d,_0x386a74){return _0x43ee5d!==_0x386a74;},'AnZgo':_0x50e8('98','iZX0'),'FbGly':_0x50e8('99','DCiZ'),'MOVkp':'VMEJp','htlLs':_0x50e8('9a','1#Wu'),'kxfSf':_0x50e8('9b','#z6P'),'BZccy':'gzip,\x20deflate,\x20br','uqMmo':'keep-alive','yyKvc':_0x50e8('9c','N2mN'),'HqnOt':function(_0x137766,_0x3c048e){return _0x137766(_0x3c048e);},'jkmhQ':_0x50e8('9d','bHA1'),'CSBbN':_0x50e8('9e','BfWm'),'TipkF':_0x50e8('9f','uFs*')};return new Promise(async _0x4b225c=>{var _0x3d7ef0={'JriEk':function(_0x2b1e81,_0x2894c9){return _0x2b1e81===_0x2894c9;},'Wexbt':_0x505126[_0x50e8('a0','uFs*')],'mHWNR':function(_0x6ade17,_0x10c5ac){return _0x505126[_0x50e8('a1','7flR')](_0x6ade17,_0x10c5ac);},'jXZOi':_0x505126['azfUz'],'tppin':function(_0x106507,_0x4089b0){return _0x505126[_0x50e8('a2','LsKe')](_0x106507,_0x4089b0);},'ILlqD':_0x505126['AnZgo'],'sGDxD':function(_0x3a26b9,_0x4d6bd7){return _0x3a26b9===_0x4d6bd7;},'vuAVn':_0x50e8('a3','h2AO'),'biGdy':_0x505126[_0x50e8('a4','V!68')],'mQWag':function(_0x49dc9e,_0x353ef4){return _0x505126[_0x50e8('a5','B5GJ')](_0x49dc9e,_0x353ef4);},'gAgcL':_0x505126[_0x50e8('a6','8O6z')],'pYYuP':'Dfhns','ziOVn':function(_0x225b61){return _0x225b61();}};const _0x2d37ed={'url':_0x50e8('a7','@Sm7'),'headers':{'Accept':_0x505126[_0x50e8('a8','Cjq&')],'Content-Type':_0x505126['kxfSf'],'Accept-Encoding':_0x505126[_0x50e8('a9','DCiZ')],'Accept-Language':'zh-cn','Connection':_0x505126[_0x50e8('aa','N!46')],'Cookie':cookie,'Referer':_0x505126[_0x50e8('ab','N2mN')],'User-Agent':$['isNode']()?process[_0x50e8('0',']04d')]['JD_USER_AGENT']?process['env']['JD_USER_AGENT']:_0x505126['HqnOt'](require,_0x505126[_0x50e8('ac','EtsZ')])[_0x50e8('ad','gE7G')]:$[_0x50e8('ae','7[75')](_0x505126[_0x50e8('af','rW&F')])?$[_0x50e8('b0','j8lB')](_0x505126[_0x50e8('b1','N!46')]):_0x505126[_0x50e8('b2','V!68')]}};$[_0x50e8('b3','gE7G')](_0x2d37ed,(_0x39e8a0,_0xa02edf,_0x15665d)=>{var _0x5acf7f={'eKbfK':function(_0x2f635a,_0x4030c8){return _0x3d7ef0['JriEk'](_0x2f635a,_0x4030c8);},'XRwUl':_0x3d7ef0[_0x50e8('b4','XX&(')]};if(_0x3d7ef0[_0x50e8('b5','DCiZ')](_0x50e8('b6','H7Iq'),_0x3d7ef0[_0x50e8('b7','R48G')])){try{if(_0x39e8a0){console[_0x50e8('b8','#z6P')](''+JSON[_0x50e8('6b','IAe@')](_0x39e8a0));console['log']($[_0x50e8('b9','R&u8')]+_0x50e8('ba','*c#A'));}else{if(_0x3d7ef0[_0x50e8('bb','uFs*')](_0x3d7ef0[_0x50e8('bc','uTpA')],_0x50e8('bd','Tw[)'))){$['isLogin']=![];return;}else{if(_0x15665d){_0x15665d=JSON[_0x50e8('be','iZX0')](_0x15665d);if(_0x3d7ef0[_0x50e8('bf','8O6z')](_0x15665d[_0x3d7ef0[_0x50e8('c0','BfWm')]],0xd)){$['isLogin']=![];return;}$[_0x50e8('c1','NXgH')]=_0x15665d[_0x3d7ef0[_0x50e8('c2','7[75')]]['nickname'];}else{console[_0x50e8('c3','EtsZ')]('京东服务器返回空数据');}}}}catch(_0x42d148){if(_0x3d7ef0[_0x50e8('c4','Tw[)')](_0x50e8('c5','XWLT'),_0x3d7ef0[_0x50e8('c6','MQ5d')])){$['logErr'](_0x42d148,_0xa02edf);}else{console[_0x50e8('c7','DCiZ')](_0x50e8('c8','7[75')+JSON[_0x50e8('4a','IN!8')](_0x15665d));}}finally{if(_0x3d7ef0['pYYuP']===_0x50e8('c9','7[75')){_0x3d7ef0[_0x50e8('ca','1#Wu')](_0x4b225c);}else{Object[_0x50e8('cb','Tw[)')](jdCookieNode)[_0x50e8('cc','B5GJ')](_0x208423=>{cookiesArr['push'](jdCookieNode[_0x208423]);});if(process['env'][_0x50e8('cd','bHA1')]&&_0x5acf7f[_0x50e8('ce','7%gY')](process[_0x50e8('3','2uU^')][_0x50e8('cf','kldR')],_0x5acf7f[_0x50e8('d0','OddA')]))console['log']=()=>{};}}}else{console[_0x50e8('c3','EtsZ')](_0x50e8('d1','XWLT')+_0x15665d[_0x50e8('d2','#z6P')][0x0]['title']);message+='今日签到成功，获得'+_0x15665d[_0x50e8('d3','@Sm7')][0x0][_0x50e8('d4','OddA')]+_0x50e8('d5','EtsZ');}});});}function safeGet(_0x264192){var _0x422642={'GCnxT':function(_0x30d8ec,_0x121eb3){return _0x30d8ec!==_0x121eb3;},'OzXEt':_0x50e8('d6','XX&('),'jqzpz':_0x50e8('d7','B5GJ')};try{if(_0x422642[_0x50e8('d8',']04d')](_0x422642[_0x50e8('d9','NXgH')],'nfHVH')){console[_0x50e8('da','XWLT')](''+JSON[_0x50e8('db','uTpA')](err));console[_0x50e8('dc','viKt')]($[_0x50e8('2c','*c#A')]+_0x50e8('dd','Tw[)'));}else{if(typeof JSON[_0x50e8('52','N!46')](_0x264192)==_0x422642['jqzpz']){return!![];}}}catch(_0x428469){console[_0x50e8('de','BfWm')](_0x428469);console['log'](_0x50e8('df','LsKe'));return![];}}function jsonParse(_0x4dda53){var _0x3d1cb7={'nfkId':_0x50e8('e0','uFs*')};if(typeof _0x4dda53==_0x50e8('63','Cjq&')){try{return JSON['parse'](_0x4dda53);}catch(_0x308334){console[_0x50e8('e1','Cjq&')](_0x308334);$['msg']($[_0x50e8('e2','gE7G')],'',_0x3d1cb7[_0x50e8('e3','OddA')]);return[];}}};_0xodf='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
