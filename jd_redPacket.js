
const $ = new Env('京东全民开红包');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '';
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
  let cookiesData = $.getdata('CookiesJD') || "[]";
  cookiesData = jsonParse(cookiesData);
  cookiesArr = cookiesData.map(item => item.cookie);
  cookiesArr.reverse();
  cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
  cookiesArr.reverse();
  cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}

const JD_API_HOST = 'https://api.m.jd.com/api';
var _0xodr='jsjiami.com.v6',_0x4459=[_0xodr,'w4Z6EsOK','wr8qQMOlw47mn5LorqDorrbms4HlpKDot5zCseKDpe+4iOKBhO+6kg==','w5rCrcOww6cDwrpkSsKd','ZMOze8KVFg==','XsOoRcOkGw==','F3nCiMKtwpk=','w4cKecOtwojCpA==','w6Nlw4rCuFY=','Un/Cl1w+bQ==','K8KyLi8T5pyN6KyO6K+R5rK05aWx6LW7IOKBmO+7iOKAje+7kQ==','chfDglHCo8Kiw7lvHg==','B8K5KMODw48=','w4MRasOYwonDrDgkwpvCo8OgDMOjJ8K/w7zDujvCtMKOEsOX','XsO6w77ChCfCisOUwo7DsVlqwr43wqHDn8KJwrMJw7vDgsKSIsOmwoHCpw/DjwJiKCnCoW85VEgKKTMEw4lGwq1JeUHClS/DrMKmw7LCuSITYmUSGATDv8KSwr1DXBNRQRrCuj7CjsOhwp8Pw75K','XcKTw6ddGmzDtsOcRmIVCW/CkMKSZzrCvnDDtcKAVQAGaWxDwqtLwo8Hw5PCkA==','bRfDqEzClw==','w6l0w6DCj2I=','w4VkP8OmwoA=','FsKMMsOzw68=','LMK6wrZj','dcOFw4bCvh4=','AmoVVMOJw7k=','YBPDmRbCoMOrw7ptScK7w4zCqQ==','wrNXOGpt','JXY/QcO7UMOOw6LDhQzDtljDlMOSCG4D','FAofwprDlg==','R8O1X8K+Hw==','HXDDl8K9wpI=','w4vDkgM=','JcKoPA==','RcO6w7jCnTrDl8KSw4fDoA==','w5NjCcONwo4=','L8KgwqZ0wotAw6A=','LcKmL8OG','Jw41Jk/CqcKiMQ==','LUkVX8Kw','cRQ1w4A=','w6h0w77CgkE=','WzDDmHLCmA==','w7BOYQBP','wo0JccOPwpPCuENywoPCp8KtTsK8asK+wrvDtTHDrsOQF8OewrBAw6Qrwpciw6ZbTQ==','LcOlw4HCuSfDs8O1','SsOpwqjDqFzDgivClMOr','BUDCpHYy','WMO+wq/DrVU=','YVnCi8K2w5s=','PcOtXy7DnA==','w6BZVh9Jw5hKwplDWMKtwrs/','ZA3Dhg==','w7LDriEgw6DDhHPCo8Oyw5w=','AH3CjsK6wp1KKg==','wrjCuUxfw6oZwqg=','w5dNw5fClUw=','YcOVw7vCnS7Cmw/DoVXCmX/Cm1h9JWvDsVTCtjw4w4hQaMKQw7ZbVVfChcOjw55IwqHDm8KrbcK3w5spw7HDjMKES8O2w6swwrwZZDBZwp3ClWoTCkzDtsOoLEVHwrXCpVoKwrNEN8O8wq/CssKuw7U7w7M=','w7Fhc8OBw4Y=','WMK9wqY=','Lwgh','w4VtdcKy','wrXCgcKgTMOiw5bDrkg=','wpXCnmZJwrc=','w5vCvMO2w60Cwrlo','w4FjCMOb','w6ktAXrDmg==','FMKCwrNjw7g=','PcKlwrV7wodQw7JdSz3CvkErI8OSw6zDncKhw6ELw47CvMKLw5otETnDm0wILwA=','QcOjasO+YMKnw7pRwr/DnFAPFcK1w5LCo8Ol','ccOZwrfCjjA=','UsO4wr/DsR/DhC7Cm8Okw4I=','SMOIYcKXB8OmPMKlJg8eMnEIfcKrYMKRQMO5w7oVw6jDsMOiYsK2BMKXwqbCoXIpwoRdw4LCmsOnwonCusOlc00VQcOlZ8OPMQ==','CEgDcA==','wrXCuFlLw7tWwqAwGDHCtwhww5PDtU1zwphADlXCmyfCvQDCpADCqz4ww6nCoMKgM8KlK8KXXAPCnsKNw5LCpMOnHD0qPcO6YEHDsFDCq8ObYMOMQMKEKhojwphuVcKSw5RgwqjCnXDDuCBxJMO8Xg==','aRfDhEjCvsO/wr8mEMKpwo3CrsORw7BWGyAWwrvCvBLCi8KdwqrDlHvDpcKiw7Jtw6Ipw5vDs2HCkcORw4/Cnxsrwop+QMK7RsOOw4bCjBIEVsK5FA==','ZMKYwqbDhV0=','KMK3K8OLTiEGGcOqw5TDqi7CjsKfw5FMd8O6S8OQOcKQw7XCoQBZw7EHCljCnljDpA==','CcOqw6LCrgw=','GXnCvg==','w7LCn8Op','w6PCncOdw5s+wphfc8KlW3rCuyg=','FjgWwrrDrQ==','w4RnD8OaworDucOq','In7Cv8Knwow=','W8OBQk/Cl8OOw5g=','w5LCl8Oaw7FN','JcKLwqprw4o=','wqBBwp1HwpY=','QMK+OApc','wqDDp3E=','cMKgw7TCvQfmnbvorbLorIzmsIrlpLLotJ7Ct+KBp++6sOKAqO+7lA==','wqLCnMKhRsOjw4TDqVrCrg==','UMOLUQ==','V8O8wrfDpA==','YMK0PglI','UMOdZ8KUEQ==','Y8K0wobDq3o=','J8KuOMOMaSMKCA==','wrFsQ0rCoA==','UsKKw7RaHW7DusON','a8KFw5BFBA==','wrBHS2HCsA==','LmMxdMKlAg==','YU7CqQ==','DygCwpPDtw==','b8OqWUfClQ==','wox0WkTCmy3CncOL','EcOYQg/Dmg==','wqPCjcKgWsOhw5c=','w45Qw6cANMKEw6bCkA==','woRyTmLChio=','w4bDpxQUw50=','TMO1w5nCmTk=','ScOEUcKFHQ==','CTYTwr3DtMKO','bFHCp8Oiw4U8PBMcahXCow==','WMOtwqrDrVvDhiPChsO7w4jClcKAw48/F8KySllIw63DmMOvIhrDkVDDrMKTw5HDiMK4CsOa','w4t2D8OOwpjCt8Kkw6TCjsOsW8O9w7d+YgTCoMKtwq7ChcO8woA=','WWrCmWlgP8OewoLDtcO4wqdSwowEHTUr','YMKvwp8=','wrnDnsOKw5t4w6lJw6zCusKWcMOQwpU=','UcOpwq7DsUHCn23DncO6w4bCi8Ofw448DcOrVxAAw6HDhcOvIA3Dgl7DrMKRw7bDjsKlQMOELz55aMOZw5TDnADCssOdA8OCSAkJQsKcw6YxIcKrwrDCvCHDtMO3PB8gwpBew7XDmgjCrsOowo5rXsK7acOKZw==','GcO4c8O+JcOjwqNewr3Dr1wLL8Oxw4fDp8OxKcKIcsOEw4PCu0LCqTVx','c8OqXELCtQ==','w4hybTMn','TWTCgnAieMOTwoHDqg==','w7p5ey14','FWTChkM9w7g=','w44LaA==','AMOEw6rCuB3Dm8OCwqQJRH7DmQ8=','w4bCtMOHw4lJ','bMOOwp/Dk23DpAXCt8Ocw7M=','w74yWTUCwrvCpw==','w5MTeBA=','A8KDDsOm','IMOkw5TCnT7CpcO5wqsgbFXDsmDChjrDqVDCrAsLJcKibm/CjGo/wqBLMy/DnFDCqncQMkkUwoYSwpc5X8K5wqnCu8KQe8Ofwo/CqsKOehjDrsKEHMOJNXTCvMOld8KHw518wobDvMOLNsOGekBZw71l','BMKewrlPw40=','worDssKGwp7DiA==','QcKQIQtKw6w=','w4fDizrDlMOP','w5hmS8K+w64=','w4oEX8OYwpc=','w4fCpMOzw4BY','cQLDgkvCqA==','w5/DtQHDm8Ow','w40VWMOvwp0=','w57CuMOUw68/','J8Ozw5I=','6Ky75Ym36ZqZ5oSs5ZyFw6zCssKdMmfovLDlhonmoKbkvIXmlpHlhbflrJfCn+W6uOiviemCq+i9g+iEvOacq+WMpuiPvuWPmsKBwq8/SMK4EA==','w4zCt8O0','V8KKJQ==','w7tZTMKcw6HDpg==','w75Mw48=','LELCnGccw4Q=','OcKtwqxj','44OB5oy456ep44C+6K265Yer6Iy35Y+q5Lm75Lu76LWm5YyO5LiPKsK+MmFrw5Uy55uz5o+G5L+955S8w4F9dXDDsgbnm7DkuIHkurvnrajliKjojLfljY4=','TsOtd8O+P8K9wrEbwrvDlVAVXsO0w5zCq8OzcsKFfsOdwoXCtknCgT9jw4/DocOiw4xowrXDlC90w7PCuAkPw4o6wpc=','w7QkSg==','J8KmNsOC','CBEoIlg=','w4DDuwgRw4s=','ChcCAGE=','NcKzHcOgw7g=','w7nDrDfDgMO0ZHPDsA==','wot8RVTCng==','bALDhFvCpQ==','w7ZDw43Crk0=','wrjChsK3SsO1','w4DCqsOOw6EKwrRj','wp7Ds8OIwpbDqEDCl0Q=','HMOnTw==','w79ubDhUw7x1wqM=','NcKmwol4wolaw70=','w7ZRw54=','w7c2QDQ=','44Cs5o2056SM44C6wpXDlcOWaGjDruW1veWnj+aUjQ==','5Lmc5LqG6LaN5YyK','w4psH8ObwpM=','w7LDjgEAw7HDpFnCgw==','wqDor6rph4Tml7rnmaHlv4jojq/ljJAId8KcwoEbd8O/eT8hwpJHQcOWw6V/asKNBMKhwqU0wrHCkcK8M2rDh2zDowdJwoHCom3CrldTARFYH8O2FA==','ZhAvw4XDs8K7SinCnmw=','UsKCw7pU','A8KcwqR0w7PCoHBY','P8KBwqVjw4U=','XcO0wqnDol3DkCzChg==','e8OnwrnDp1M=','I3EaXsON','ZcOQw7fCiA==','Ah8YwpvDsg==','JsOvw5I=','w4siBFDDoCTChA==','LcKoNcOC','eMOFw6jChDDDhw==','w5hcw6AANMKVw60=','HsO/wp7Cug==','W8OiWkLCmw==','DFsoTMO1','J2w3TcON','w78bEGbDvw==','VcOhw67CkQ==','w5HCn8O0w6Js','wofDsGdxeg==','wrbCnkNqwrc=','w4cKeQ==','w7zDhcO+5YWY5L+e5LmY5Yih6K+a5oCSw4ptw5Q=','Fi0GwpHDqMKbw6cIWw==','w53CuMOxw6UkwrNrQw==','AsOtWznDh8OS','KMK0wrZ8wqddw7VGUQ==','Un/Clw==','wooZwrRD5Lqg5YmQwqjDhCvChC/ni7/mgZPDgMOH57uu5Y6T5pis5ZCY6aKN5Y6r','CTYT','VMOVYcKLEQ==','w6TCncO2w6tY','LQHDrg==','w4wnGFTDrSzChMOLOQbDlMOMfhzCmcOpFsOTCEw=','BcKtA8OVw73CqDXCr8Kcw4wywrh/b3l/dcKxw7Vt','woLDv8OawojDj1PCn2Ine8O3wog=','K8KRwrrDjX7CgA==','w5bCgMOWw5tL','T8O3bcOrPsOUw6pVwq3DhUI=','VsKfSG0t','fMOkw4rCry4=','R8OZDS4c','AMOpWj/Djg==','UcOXUQ==','6K6H5Ym36Zqn5oWD5Z6Dw6TCugQuQui9qOWEm+air+S8uuaXoOWHjeWtjkjluK3oroHpgZ7ovZPohrfmnqDljqLoj6rljIteQcOlHcKqw4M=','e8KBZg==','YcKE5beE57uk6aGw5Y2s5aev5Yqy','K2I4VMKlI8Oew6bDlxXDpA==','wrRXB2hN','JmnCs8KNwoo=','ZFLCgsKjw497OA==','w7R9UsOMw4g=','wpPCj1FTwo7DuABY','w5rCtsOpw79p','w5kqGVrDmDHCjcO8','w4NzZy9ow45swqd2asKb','bMO6w7nCjh0=','Nm0lWsKDCcOaw6I=','worDpn1JfA==','wrBXBnB8bsO0woU=','w7Naw7LCv18=','5b+x5ae65YKI5rWr6KSU5Lut5YmGfA==','DMOlw73CpgY=','SMKCw6RaJ3bDp8ON','wqXCgcKnQ8Oo','Hkfkur3li6TmnIrlv5zljJ0=','DMKjHsOBw6k=','wp/Do3VHeA==','w6kTVMOxwqs=','w4wNfMOKwqs=','w6ZRw6MnLQ==','wqp3Bl9E','eMKAd3AC','UMKhwoLDlm8=','Tn/Cg20=','w6tPSD9X','wpPCh19d','dMOXIDUK','w7rCjcOvw74M','YcKwPhJF','WsOhw60=','HsOpRSk=','w4ZWw7M=','w5lpeyN0w7pxwqB7','O8KEwqlRw4U=','w5J1TcKPw6c=','w5zDviDDgcOf','EnM8bsOE','wph0wpltwrA=','w4fCuMOvw6s=','wpFFX8O4wrPmnLPor7Xor7zmsrHlp7PotrVc4oKm77iG4oOu77ud','YcOzHQw/','wpHCiVV9wpLDqw==','XcOLJA==','H8KPwoZzwok=','MmMlRQ==','woXDo3hUdw==','UcKFPw5Bw64=','w4RYw7kG','UsO2UMO6PsOuw7BT','KMO6w5rCjxQ=','NsKBwrNEwoE=','wpzDtcOM','LG07VA==','XsKLNA==','w5B2CcOXwoXDqsOiwq3Cnw==','TsOdeMKC','BsODw5ZhOuafquitteitn+axreWkvOi1ngbigKvvurLig5nvuJ8=','D2PCukU3w7opwrhX','DHoTScKf','w6lQw6rCpnE=','CxszwrrDpA==','ZRQzw5LDmA==','w4jDvibDkw==','wo7Ck1FbwoXDqh4=','DMKmNMORaA==','A3nCjsK/','wq7DoWx8TsOBwrnCgA==','aUjCvcKvw4dnOAM=','UAXDvE/CtQ==','wrXCicKnTg==','w6llZsOww7VF','A3kRWsKt','BjYQwp0=','wpVQwqZF','MQI1MEzCqA==','ZQLDhFk=','FzwHwo3DqsKI','UsOBIxIO','E8KgGMOE','WsOMZcK1Fw==','T8OQV1/Cg8OJ','w6llZg==','FGzCiMK3wpJZIsOuwpM=','wrPCs18=','wo0KOnjorbvmsIrlp4zotrzvvZDorpLmobHmnYDnvZnotpbphLDorb8=','C3fCnQ==','5LuN5Yiv5Yqd6KKc5Lmu56uKw5fmi6rliLHov6Plhb/Crz7Dv+WEt+ahp+acvE3mm7rlkoflrqXlnafCkuS4reS5quiwq+mkvOmgm+i/vemjh+WJqOS6o+W/lumBiB4P56e3R+ebguS6mOWIjQ7lpanlrbDlnaYU6Kyj5omS5YiK5a2C5oqa5YW46L686KGq6ISf5py+','wpxCwrU=','CXnCl8K7','aBDDvlfCqcKg','wo7Cg1xcwq7DthlUwovCvw==','MsK0wqhy','w53DixLotJ7ljJc=','woowKQ==','5ouE6KGO6IWh5p6S5YSR54y95b6J5buzw6zorbrmiaDliKXovZXlhLVuWsK65YWM5qGA5pyDwpnmm4LlkqXlr4XlnazCreS6teS7keiygumlu+miiei9mumiruWJtuS6r+W8h+mDuMOiwqnnpqIF55qd5Luo5YiOUeWloeWtpuWdmxvor53mi6fliIjlr63mi5jlh6vovqvooLDohZDmnrY=','byF75YWG5L6E5LqL5YiL6K2h5oGmTcK6AQ==','w6ojXzgNwqjCr8KIcA==','d8OgEzPDmA==','DHjCu1g=','w4TDnAgew5rDoA==','WMOvw6fCkQ==','NsOkwqrCiAc=','bWLCvmMl','wr3Ch8K0','w6XDvHlrw4LmnojorKvorpfmsLLlpa/ot7xN4oG377ul4oOn77mw','RMKzwrPDrGg=','BsKEd3vCv+adn+itm+ivtOaxg+Wmuui2qsOe4oG577ul4oCd77u6','UMKMw7A=','MBM0LE7Cu8KlIw8=','wqHCicKhXMOo','CHnCrW0O','w4PCksOvw5xW','w7koGmXDpw==','w4DDsDXDt8OIdw==','eMOTw6/CrzE=','SsO4bcOKGA==','w6LDsgUUw5g=','OyA1MFM=','Q8OWw7PCmx4=','IAYqKUXCuQ==','wpdaH21q','Ego9wrDDtw==','jhODlsJljAIiaNmLi.cxokm.lzv6OW=='];(function(_0x4aca19,_0x13be34,_0x4bf428){var _0x22e212=function(_0x4cd0f4,_0x2240dd,_0x1099de,_0xd0456e,_0x328e66){_0x2240dd=_0x2240dd>>0x8,_0x328e66='po';var _0x1a28e2='shift',_0xda779b='push';if(_0x2240dd<_0x4cd0f4){while(--_0x4cd0f4){_0xd0456e=_0x4aca19[_0x1a28e2]();if(_0x2240dd===_0x4cd0f4){_0x2240dd=_0xd0456e;_0x1099de=_0x4aca19[_0x328e66+'p']();}else if(_0x2240dd&&_0x1099de['replace'](/[hODlJlAINLxklzOW=]/g,'')===_0x2240dd){_0x4aca19[_0xda779b](_0xd0456e);}}_0x4aca19[_0xda779b](_0x4aca19[_0x1a28e2]());}return 0x79ac0;};return _0x22e212(++_0x13be34,_0x4bf428)>>_0x13be34^_0x4bf428;}(_0x4459,0x92,0x9200));var _0x2987=function(_0x1f7cf1,_0x41a5bc){_0x1f7cf1=~~'0x'['concat'](_0x1f7cf1);var _0x47367a=_0x4459[_0x1f7cf1];if(_0x2987['PTwnmK']===undefined){(function(){var _0x11d013=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x8a1bc4='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x11d013['atob']||(_0x11d013['atob']=function(_0x2eabe5){var _0x1472a7=String(_0x2eabe5)['replace'](/=+$/,'');for(var _0x2b9359=0x0,_0x351d8c,_0x70eb91,_0x6319a9=0x0,_0x5909bc='';_0x70eb91=_0x1472a7['charAt'](_0x6319a9++);~_0x70eb91&&(_0x351d8c=_0x2b9359%0x4?_0x351d8c*0x40+_0x70eb91:_0x70eb91,_0x2b9359++%0x4)?_0x5909bc+=String['fromCharCode'](0xff&_0x351d8c>>(-0x2*_0x2b9359&0x6)):0x0){_0x70eb91=_0x8a1bc4['indexOf'](_0x70eb91);}return _0x5909bc;});}());var _0x364e02=function(_0xfcf54f,_0x41a5bc){var _0x39b842=[],_0x339d23=0x0,_0x2265fd,_0x1dd9fe='',_0x4757ce='';_0xfcf54f=atob(_0xfcf54f);for(var _0x466f79=0x0,_0x1610fe=_0xfcf54f['length'];_0x466f79<_0x1610fe;_0x466f79++){_0x4757ce+='%'+('00'+_0xfcf54f['charCodeAt'](_0x466f79)['toString'](0x10))['slice'](-0x2);}_0xfcf54f=decodeURIComponent(_0x4757ce);for(var _0x1381a6=0x0;_0x1381a6<0x100;_0x1381a6++){_0x39b842[_0x1381a6]=_0x1381a6;}for(_0x1381a6=0x0;_0x1381a6<0x100;_0x1381a6++){_0x339d23=(_0x339d23+_0x39b842[_0x1381a6]+_0x41a5bc['charCodeAt'](_0x1381a6%_0x41a5bc['length']))%0x100;_0x2265fd=_0x39b842[_0x1381a6];_0x39b842[_0x1381a6]=_0x39b842[_0x339d23];_0x39b842[_0x339d23]=_0x2265fd;}_0x1381a6=0x0;_0x339d23=0x0;for(var _0x3a0f30=0x0;_0x3a0f30<_0xfcf54f['length'];_0x3a0f30++){_0x1381a6=(_0x1381a6+0x1)%0x100;_0x339d23=(_0x339d23+_0x39b842[_0x1381a6])%0x100;_0x2265fd=_0x39b842[_0x1381a6];_0x39b842[_0x1381a6]=_0x39b842[_0x339d23];_0x39b842[_0x339d23]=_0x2265fd;_0x1dd9fe+=String['fromCharCode'](_0xfcf54f['charCodeAt'](_0x3a0f30)^_0x39b842[(_0x39b842[_0x1381a6]+_0x39b842[_0x339d23])%0x100]);}return _0x1dd9fe;};_0x2987['XtRpeb']=_0x364e02;_0x2987['mYDRiL']={};_0x2987['PTwnmK']=!![];}var _0x39545c=_0x2987['mYDRiL'][_0x1f7cf1];if(_0x39545c===undefined){if(_0x2987['BvneQU']===undefined){_0x2987['BvneQU']=!![];}_0x47367a=_0x2987['XtRpeb'](_0x47367a,_0x41a5bc);_0x2987['mYDRiL'][_0x1f7cf1]=_0x47367a;}else{_0x47367a=_0x39545c;}return _0x47367a;};const tok=undefined!=process[_0x2987('0','Rno#')]&&undefined!=process[_0x2987('1','Z]!9')][_0x2987('2','nRok')]&&JSON['stringify'](process[_0x2987('3','T@R#')][_0x2987('4','lJti')])['indexOf']('be5026a8-08e5-40e3-9811-3470d9d7ffa0||63b343f1-e2fa-4a1d-b291-d9772dbb7545|||||b02bfc7c-28e9-4206-a385-a6ad44a60a6d')>-0x1?!![]:![];if(!tok){process[_0x2987('5','2Oh%')](0x0);}!(async()=>{var _0x489127={'Kvngx':_0x2987('6','gfa%'),'gFlct':_0x2987('7','RC#@'),'IpDEA':function(_0x541ae1,_0x4b58a1){return _0x541ae1<_0x4b58a1;},'QrlPd':'hvoqx','calsj':function(_0x2a0c10,_0x4cc8d3){return _0x2a0c10(_0x4cc8d3);},'Bzcfa':function(_0x2c37b0){return _0x2c37b0();}};if(!cookiesArr[0x0]){$[_0x2987('8','YCWm')]($[_0x2987('9','LyTO')],_0x489127[_0x2987('a','gBTj')],'https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x489127[_0x2987('b','ujW)')]});return;}for(let _0x22fc97=0x0;_0x489127[_0x2987('c','gBTj')](_0x22fc97,cookiesArr['length']);_0x22fc97++){if(cookiesArr[_0x22fc97]){if(_0x489127['QrlPd']===_0x489127[_0x2987('d','!&[6')]){cookie=cookiesArr[_0x22fc97];$[_0x2987('e','gjhg')]=_0x489127[_0x2987('f','PZ#w')](decodeURIComponent,cookie[_0x2987('10','z]$k')](/pt_pin=(.+?);/)&&cookie[_0x2987('11','T@R#')](/pt_pin=(.+?);/)[0x1]);$[_0x2987('12','gfa%')]=_0x22fc97+0x1;$[_0x2987('13','Rno#')]=!![];$[_0x2987('14','MXvu')]='';await _0x489127['Bzcfa'](TotalBean);console[_0x2987('15','miMb')]('\x0a开始【京东账号'+$[_0x2987('12','gfa%')]+'】'+($['nickName']||$[_0x2987('16','m&OA')])+'\x0a');if(!$[_0x2987('17','2Oh%')]){$[_0x2987('18','T@R#')]($[_0x2987('19','YCWm')],_0x2987('1a','A%08'),_0x2987('1b','MXvu')+$[_0x2987('1c','ZD@N')]+'\x20'+($['nickName']||$[_0x2987('1d','ujW)')])+_0x2987('1e','m&OA'),{'open-url':_0x489127['gFlct']});if($['isNode']()){await notify[_0x2987('1f','nW$p')]($[_0x2987('20','jWuY')]+'cookie已失效\x20-\x20'+$[_0x2987('21','*sM*')],'京东账号'+$[_0x2987('22','*sM*')]+'\x20'+$['UserName']+'\x0a请重新登录获取cookie');}continue;}$[_0x2987('23','ODZL')]=0x0;await _0x489127[_0x2987('24','ODZL')](redPacket);await _0x489127[_0x2987('25',')@9c')](showMsg);}else{$['msg']($[_0x2987('26','Hh&W')],_0x489127['Kvngx'],_0x489127[_0x2987('27','zbt0')],{'open-url':'https://bean.m.jd.com/bean/signIndex.action'});return;}}}})()['catch'](_0x263ece=>{$[_0x2987('28','oLIP')]('','❌\x20'+$[_0x2987('20','jWuY')]+',\x20失败!\x20原因:\x20'+_0x263ece+'!','');})[_0x2987('29','Sna3')](()=>{$[_0x2987('2a','LyTO')]();});async function redPacket(){var _0x439cb1={'wUPBp':function(_0x3393c3,_0x38d0e1){return _0x3393c3==_0x38d0e1;},'VKbQF':_0x2987('2b','Hh&W'),'AqISv':function(_0x3679e1,_0xdc2d19){return _0x3679e1===_0xdc2d19;},'CvfcZ':_0x2987('2c','VQtR'),'qwSyO':_0x2987('2d','42N%'),'FnkjQ':function(_0x9184b2,_0x28f19a){return _0x9184b2!==_0x28f19a;},'KxqRW':_0x2987('2e','A%08'),'bBnTE':_0x2987('2f',')@9c'),'fhWME':_0x2987('30',')@9c'),'LAIKP':function(_0x3be64e,_0x671252){return _0x3be64e===_0x671252;},'ibFur':function(_0x224208,_0x34b64f){return _0x224208===_0x34b64f;},'nbobB':'SDgmn','DASvo':_0x2987('31','Sna3'),'MGvwT':function(_0x2296a9,_0x3eea3a){return _0x2296a9(_0x3eea3a);},'ZtszI':function(_0x570afc,_0x23ac5f){return _0x570afc(_0x23ac5f);},'hxKrz':function(_0x370a7c,_0x4002b3){return _0x370a7c!==_0x4002b3;},'FeHKH':function(_0x1b19fe,_0x2d386d){return _0x1b19fe(_0x2d386d);},'wLFzs':function(_0x40308e,_0x56cb52){return _0x40308e(_0x56cb52);}};const _0x332bcb=await taskHomePage();if(_0x332bcb[_0x2987('32','3ie]')]===0x0){if(_0x439cb1[_0x2987('33','7yMy')](_0x439cb1[_0x2987('34','(#$*')],_0x439cb1[_0x2987('35','[]G]')])){console[_0x2987('36','OuNo')](_0x2987('37','gfa%')+JSON[_0x2987('38','zbt0')](getTaskDetailForColorRes));}else{$[_0x2987('39','Rno#')]=_0x332bcb['data'][_0x2987('3a','miMb')][_0x2987('3b','2Oh%')];if($[_0x2987('39','Rno#')]&&$['taskInfo']['length']>0x0){console[_0x2987('3c','VP((')](_0x2987('3d','VQtR'));for(let _0x1e1f97 of $['taskInfo']){console[_0x2987('3e','zbt0')](_0x1e1f97[_0x2987('3f','W0lM')][_0x2987('40','7yMy')](-0x6)+_0x2987('41','(JtP')+(_0x1e1f97[_0x2987('42','Sna3')]?_0x1e1f97[_0x2987('43','!&[6')]:0x0)+'/'+_0x1e1f97[_0x2987('44','MXvu')]+_0x2987('45','Hh&W')+(_0x1e1f97['innerStatus']===0x4?'是':'否'));}for(let _0x3d6e97 of $['taskInfo']){if(_0x439cb1[_0x2987('46','7yMy')](_0x3d6e97[_0x2987('47','RC#@')],0x4)){if(_0x439cb1[_0x2987('48','4Yej')](_0x439cb1['bBnTE'],_0x439cb1['fhWME'])){if(_0x439cb1[_0x2987('49','Hh&W')](typeof str,_0x439cb1[_0x2987('4a','xT9z')])){try{return JSON[_0x2987('4b','miMb')](str);}catch(_0x165115){console['log'](_0x165115);$[_0x2987('4c','A%08')]($[_0x2987('20','jWuY')],'',_0x2987('4d','miMb'));return[];}}}else{console[_0x2987('4e','4Yej')]('['+_0x3d6e97['title']+_0x2987('4f','A%08'));}}else if(_0x439cb1['LAIKP'](_0x3d6e97[_0x2987('50','4rP*')],0x3)){if(_0x439cb1['ibFur'](_0x439cb1['nbobB'],_0x439cb1['DASvo'])){data=JSON[_0x2987('51','#b9q')](data);if(_0x439cb1[_0x2987('52','Co(6')](data[_0x439cb1['CvfcZ']],0xd)){$[_0x2987('53','(JtP')]=![];return;}$['nickName']=data[_0x439cb1[_0x2987('54',']dMZ')]][_0x2987('55','[]G]')];}else{await _0x439cb1[_0x2987('56','7yMy')](receiveTaskRedpacket,_0x3d6e97[_0x2987('57','Sna3')]);}}else if(_0x3d6e97[_0x2987('58','m&OA')]!==0x4){await _0x439cb1[_0x2987('59','3ie]')](startTask,_0x3d6e97[_0x2987('5a','4rP*')]);if(_0x439cb1[_0x2987('5b','(#$*')](_0x3d6e97[_0x2987('5c','#b9q')],0x0)&&_0x439cb1[_0x2987('5d','T@R#')](_0x3d6e97['taskType'],0x1)){console['log'](_0x2987('5e','UW)u'));await _0x439cb1[_0x2987('5f','oLIP')](active,_0x3d6e97['taskType']);await _0x439cb1['wLFzs'](receiveTaskRedpacket,_0x3d6e97[_0x2987('60','jWuY')]);}else{console['log']('['+_0x3d6e97[_0x2987('61','gfa%')]+_0x2987('62','gBTj'));}}}}}}}function taskHomePage(){var _0x271a9d={'ghbbQ':function(_0x13e13a,_0x20f675){return _0x13e13a===_0x20f675;},'RjfCx':'GgGyK','LhwDv':_0x2987('63','!&[6'),'zliIY':_0x2987('64','(#$*'),'nAsDl':function(_0x575989,_0x5a3f22){return _0x575989!==_0x5a3f22;},'onvNY':_0x2987('65','OuNo'),'ARAuM':function(_0x5795b4,_0x4545b3,_0x2e87aa){return _0x5795b4(_0x4545b3,_0x2e87aa);}};return new Promise(_0x1d97f9=>{var _0x1be9b7={'eEOJP':function(_0x1b98e4,_0x3fa5d1){return _0x271a9d[_0x2987('66','OuNo')](_0x1b98e4,_0x3fa5d1);},'STmpa':_0x271a9d['RjfCx'],'mkhWx':function(_0x16d393,_0x3e6f11){return _0x16d393===_0x3e6f11;},'jnbYz':_0x271a9d[_0x2987('67','VQtR')],'sxEVh':_0x271a9d['zliIY'],'YvLIG':function(_0x436219,_0xafd039){return _0x271a9d[_0x2987('68','#b9q')](_0x436219,_0xafd039);},'tNvyP':_0x271a9d[_0x2987('69','4Yej')],'UjCJZ':_0x2987('6a','DNAp')};$[_0x2987('6b','VP((')](_0x271a9d[_0x2987('6c','m&OA')](taskUrl,arguments['callee'][_0x2987('6d','[]G]')]['toString'](),{'clientInfo':{}}),(_0x44a27f,_0x49b0b3,_0x52c362)=>{if(_0x1be9b7[_0x2987('6e','xT9z')](_0x1be9b7[_0x2987('6f','Rno#')],_0x1be9b7[_0x2987('70','Z]!9')])){try{if(_0x44a27f){console[_0x2987('71','3ie]')]('\x0a'+$[_0x2987('72','miMb')]+':\x20API查询请求失败\x20‼️‼️');console[_0x2987('73','VQtR')](JSON[_0x2987('74','m&OA')](_0x44a27f));}else{if(_0x1be9b7[_0x2987('75','*sM*')](_0x2987('76','nRok'),_0x1be9b7['jnbYz'])){_0x1d97f9();}else{_0x52c362=JSON[_0x2987('77','gjhg')](_0x52c362);}}}catch(_0x1f643c){if(_0x1be9b7[_0x2987('78',')@9c')]===_0x2987('79','UW)u')){if(_0x44a27f){console['log']('\x0a'+$[_0x2987('7a','Rno#')]+_0x2987('7b','OuNo'));console['log'](JSON[_0x2987('38','zbt0')](_0x44a27f));}else{_0x52c362=JSON[_0x2987('7c','xT9z')](_0x52c362);}}else{$[_0x2987('7d','[]G]')](_0x1f643c,_0x49b0b3);}}finally{if(_0x1be9b7['YvLIG'](_0x1be9b7['tNvyP'],_0x1be9b7['UjCJZ'])){_0x1d97f9(_0x52c362);}else{console[_0x2987('7e','8e)8')]('['+item['title']+']\x20任务未开发');}}}else{return JSON['parse'](str);}});});}function startTask(_0xe3d338){var _0x5ccf05={'FOMZU':function(_0x131873,_0x20d57c){return _0x131873===_0x20d57c;},'bzobZ':function(_0x2a1250,_0x7c8527){return _0x2a1250(_0x7c8527);},'NvExH':function(_0x1b8f58,_0x136e15){return _0x1b8f58!==_0x136e15;},'rrSkT':_0x2987('7f','2Oh%'),'IknwZ':function(_0x418aaf,_0x1818f3,_0x2c3cd6){return _0x418aaf(_0x1818f3,_0x2c3cd6);}};const _0x9936={'clientInfo':{},'taskType':_0xe3d338};return new Promise(_0x1fbe13=>{$[_0x2987('80','4rP*')](_0x5ccf05[_0x2987('81','(#$*')](taskUrl,arguments[_0x2987('82','Z]!9')][_0x2987('83','VQtR')][_0x2987('84','RC#@')](),_0x9936),(_0xc42470,_0x1f428b,_0x9936)=>{var _0x340bc9={'EaovO':function(_0x3cd2b3,_0x3fe22b){return _0x5ccf05['FOMZU'](_0x3cd2b3,_0x3fe22b);},'QfLwx':function(_0x4da81c,_0x478134){return _0x5ccf05[_0x2987('85','oLIP')](_0x4da81c,_0x478134);}};try{if(_0xc42470){if('lYKLT'!==_0x2987('86','2Oh%')){console[_0x2987('87','MXvu')]('\x0a'+$[_0x2987('88','4rP*')]+':\x20API查询请求失败\x20‼️‼️');console[_0x2987('89','Z]!9')](JSON[_0x2987('8a','ZD@N')](_0xc42470));}else{console['log']('\x0a'+$[_0x2987('8b','W0lM')]+_0x2987('8c','jWuY'));console[_0x2987('3c','VP((')](JSON[_0x2987('8d','lJti')](_0xc42470));}}else{if(_0x5ccf05[_0x2987('8e','4rP*')](_0x5ccf05[_0x2987('8f','T@R#')],_0x2987('90','zbt0'))){_0x9936=JSON['parse'](_0x9936);}else{_0x9936=JSON[_0x2987('91','nW$p')](_0x9936);if(_0x9936[_0x2987('92','gjhg')][_0x2987('93','[]G]')]&&_0x340bc9[_0x2987('94','LyTO')](_0x9936[_0x2987('95','Co(6')][_0x2987('96','(#$*')],0x0)){$[_0x2987('97','(JtP')]+=_0x340bc9[_0x2987('98','z]$k')](Number,_0x9936[_0x2987('99','gfa%')]['result']['discount']);}}}}catch(_0x3577c2){$[_0x2987('9a',']dMZ')](_0x3577c2,_0x1f428b);}finally{if('yQowf'!=='yQowf'){_0x340bc9['QfLwx'](_0x1fbe13,_0x9936);}else{_0x1fbe13(_0x9936);}}});});}async function active(_0xef83c1){var _0x3674f5={'eFMAo':function(_0x15e44c,_0x19d569){return _0x15e44c===_0x19d569;},'dLKwe':function(_0x2e100a,_0x2c1107){return _0x2e100a!==_0x2c1107;},'DiDZn':_0x2987('9b','4rP*'),'CSLmT':'slmBi','zppRc':function(_0x1c8a29,_0x5b8784){return _0x1c8a29==_0x5b8784;},'ybmHb':function(_0x4f3820,_0x182b7a,_0x4d6614){return _0x4f3820(_0x182b7a,_0x4d6614);}};const _0x58aea3=await getTaskDetailForColor(_0xef83c1);if(_0x58aea3&&_0x3674f5['eFMAo'](_0x58aea3[_0x2987('9c','zbt0')],0x0)){if(_0x58aea3['data']&&_0x58aea3[_0x2987('9d','UW)u')][_0x2987('9e','gBTj')]){if(_0x3674f5['dLKwe'](_0x3674f5['DiDZn'],'osdzs')){const {advertDetails}=_0x58aea3[_0x2987('9f','z]$k')][_0x2987('a0','zbt0')];for(let _0x48a209 of advertDetails){if(_0x3674f5['CSLmT']!==_0x3674f5[_0x2987('a1','xT9z')]){data=JSON['parse'](data);}else{await $[_0x2987('a2','!&[6')](0x3e8);if(_0x48a209['id']&&_0x3674f5[_0x2987('a3','W0lM')](_0x48a209[_0x2987('a4','A%08')],0x0)){let _0xca4c74=await _0x3674f5['ybmHb'](taskReportForColor,_0xef83c1,_0x48a209['id']);}}}}else{console[_0x2987('a5',']dMZ')](''+JSON[_0x2987('a6','Co(6')](err));console[_0x2987('a7','cKp1')]($['name']+_0x2987('a8','Sna3'));}}else{console[_0x2987('a9','Co(6')](_0x2987('aa','3ie]'));$[_0x2987('ab','UW)u')](''+$[_0x2987('ac','Co(6')],'','手动进入app内检查\x0a是否存在[从京豆首页进领券中心逛30秒]的任务\x0a如存在,请手动完成再运行脚本');if($[_0x2987('ad','z]$k')]())await notify[_0x2987('ae','[]G]')]($[_0x2987('af','2Oh%')]+_0x2987('b0','[]G]')+$['index']+_0x2987('b1','m&OA')+$['nickName'],_0x2987('b2','ZD@N'));}}else{console[_0x2987('4e','4Yej')](_0x2987('b3','4rP*')+JSON[_0x2987('b4','YCWm')](_0x58aea3));}}function getTaskDetailForColor(_0x8be15c){var _0x94e411={'JzGWg':function(_0x553d61,_0x589bbe){return _0x553d61===_0x589bbe;},'SrNzi':_0x2987('b5','8e)8'),'tneAW':function(_0x150dfd,_0x1e99fa){return _0x150dfd===_0x1e99fa;},'TcpTk':'OECfD','lanDT':function(_0x950600,_0x5a5d7e){return _0x950600(_0x5a5d7e);},'tqfUT':function(_0x2d8d82,_0x11ffb1,_0x1cbb18){return _0x2d8d82(_0x11ffb1,_0x1cbb18);}};const _0x338724={'clientInfo':{},'taskType':_0x8be15c};return new Promise(_0xc021f6=>{var _0x9dc133={'sbuBo':function(_0x4bae40,_0x2cac54){return _0x94e411['lanDT'](_0x4bae40,_0x2cac54);}};$[_0x2987('b6','lJti')](_0x94e411['tqfUT'](taskUrl,arguments[_0x2987('b7','ujW)')][_0x2987('b8','3ie]')]['toString'](),_0x338724),(_0x37f137,_0x111bbe,_0x338724)=>{try{if(_0x37f137){if(_0x94e411[_0x2987('b9','42N%')]('GlBcO',_0x94e411[_0x2987('ba','VP((')])){if(_0x37f137){console[_0x2987('bb','gfa%')]('\x0a'+$['name']+_0x2987('bc','cKp1'));console[_0x2987('87','MXvu')](JSON['stringify'](_0x37f137));}else{_0x338724=JSON[_0x2987('bd','DNAp')](_0x338724);}}else{console[_0x2987('3c','VP((')]('\x0a'+$['name']+_0x2987('be','A%08'));console[_0x2987('bf','jWuY')](JSON[_0x2987('c0','gBTj')](_0x37f137));}}else{_0x338724=JSON[_0x2987('c1','gfa%')](_0x338724);}}catch(_0x538c40){if(_0x94e411[_0x2987('c2','lJti')](_0x94e411[_0x2987('c3','7yMy')],_0x94e411[_0x2987('c4','Sna3')])){$[_0x2987('c5','gjhg')](_0x538c40,_0x111bbe);}else{_0x9dc133[_0x2987('c6','Hh&W')](_0xc021f6,_0x338724);}}finally{_0x94e411[_0x2987('c7','RC#@')](_0xc021f6,_0x338724);}});});}function taskReportForColor(_0x4ec32c,_0x39ebe7){var _0x4a316f={'bOzNu':'hlIRC','EOafg':'xqFjW','ydaxl':function(_0x4396ae,_0x3c32b1){return _0x4396ae(_0x3c32b1);},'uXyoJ':function(_0x342e44,_0x3ac507,_0x551cf7){return _0x342e44(_0x3ac507,_0x551cf7);}};const _0x503f8d={'clientInfo':{},'taskType':_0x4ec32c,'detailId':_0x39ebe7};return new Promise(_0x5d68d0=>{var _0x2a9702={'urcUT':function(_0x566faf,_0x1750e2){return _0x566faf===_0x1750e2;},'SljvB':_0x4a316f['bOzNu'],'DOnrb':function(_0x154df0,_0x5de48d){return _0x154df0===_0x5de48d;},'RHedW':_0x4a316f[_0x2987('c8','ujW)')],'bphqm':_0x2987('c9','gBTj'),'cxYsS':function(_0x52d13c,_0x3bc9eb){return _0x4a316f['ydaxl'](_0x52d13c,_0x3bc9eb);}};$['post'](_0x4a316f[_0x2987('ca','3ie]')](taskUrl,arguments[_0x2987('cb','gBTj')]['name']['toString'](),_0x503f8d),(_0x273a9c,_0x2fdcee,_0x503f8d)=>{try{if(_0x2a9702['urcUT'](_0x2a9702[_0x2987('cc','#b9q')],_0x2987('cd','zbt0'))){process[_0x2987('ce','ZD@N')](0x0);}else{if(_0x273a9c){console[_0x2987('3e','zbt0')]('\x0a'+$['name']+_0x2987('cf',']dMZ'));console['log'](JSON[_0x2987('d0','Rno#')](_0x273a9c));}else{if(_0x2a9702[_0x2987('d1','W0lM')](_0x2987('d2','RC#@'),_0x2a9702['RHedW'])){_0x503f8d=JSON[_0x2987('d3','Co(6')](_0x503f8d);}else{$[_0x2987('d4','OuNo')](e,_0x2fdcee);}}}}catch(_0x342e79){if(_0x2987('d5','T@R#')===_0x2a9702['bphqm']){$[_0x2987('d6','VP((')](_0x342e79,_0x2fdcee);}else{console['log']('\x0a'+$[_0x2987('26','Hh&W')]+_0x2987('d7','xT9z'));console[_0x2987('36','OuNo')](JSON[_0x2987('d8','z]$k')](_0x273a9c));}}finally{_0x2a9702[_0x2987('d9','!&[6')](_0x5d68d0,_0x503f8d);}});});}function receiveTaskRedpacket(_0x2bf487){var _0x1853d2={'DVVOh':_0x2987('da','OuNo'),'scnGA':'JDUA','ltXtZ':_0x2987('db','3ie]'),'rVYBG':function(_0x4f1f2d,_0x45bb5f){return _0x4f1f2d===_0x45bb5f;},'ffDXk':function(_0xb933ff,_0x1a27f3){return _0xb933ff(_0x1a27f3);},'CKLJJ':function(_0x2e4e9d,_0x175b62,_0x1f8c8e){return _0x2e4e9d(_0x175b62,_0x1f8c8e);}};const _0x3ad1e8={'clientInfo':{},'taskType':_0x2bf487};return new Promise(_0x59fe81=>{var _0x47b531={'waMqE':_0x2987('dc','jWuY'),'KVLQx':_0x1853d2['DVVOh'],'qSkbP':_0x1853d2['scnGA'],'gIJYk':_0x1853d2[_0x2987('dd','z]$k')],'sVGOd':function(_0xed01d6,_0x22ab91){return _0x1853d2[_0x2987('de','T@R#')](_0xed01d6,_0x22ab91);},'oECng':function(_0xf3253d,_0x4a9ff2){return _0x1853d2[_0x2987('df','ZD@N')](_0xf3253d,_0x4a9ff2);},'fMapG':function(_0x1855b7,_0x1fecfd){return _0x1855b7!==_0x1fecfd;},'ZyBVm':_0x2987('e0','!&[6')};$[_0x2987('e1','2Oh%')](_0x1853d2[_0x2987('e2','3ie]')](taskUrl,arguments[_0x2987('e3',')@9c')][_0x2987('af','2Oh%')]['toString'](),_0x3ad1e8),(_0x30b1f2,_0x53adb0,_0x2581fa)=>{var _0x48ffd1={'strdh':_0x2987('e4','z]$k'),'yWlZk':_0x47b531[_0x2987('e5','#b9q')],'aculg':_0x47b531['KVLQx'],'lxEzs':_0x2987('e6','4rP*'),'Mewbw':'*/*','PCbpe':'./USER_AGENTS','LonXi':_0x47b531[_0x2987('e7','zbt0')],'DjgWX':_0x47b531[_0x2987('e8','W0lM')],'tkrtA':_0x2987('e9','Co(6')};try{if(_0x30b1f2){console[_0x2987('ea','ujW)')]('\x0a'+$['name']+':\x20API查询请求失败\x20‼️‼️');console[_0x2987('eb','LyTO')](JSON[_0x2987('ec','3ie]')](_0x30b1f2));}else{_0x2581fa=JSON[_0x2987('ed','ZD@N')](_0x2581fa);if(_0x2581fa[_0x2987('92','gjhg')][_0x2987('ee','2Oh%')]&&_0x47b531['sVGOd'](_0x2581fa[_0x2987('ef','LyTO')]['biz_code'],0x0)){$[_0x2987('f0','gBTj')]+=_0x47b531[_0x2987('f1','4rP*')](Number,_0x2581fa[_0x2987('f2','nW$p')]['result']['discount']);}}}catch(_0x1d605d){if(_0x47b531[_0x2987('f3','T@R#')](_0x2987('f4','z]$k'),_0x2987('f5','m&OA'))){$['logErr'](_0x1d605d,_0x53adb0);}else{return{'url':JD_API_HOST+'?appid=jd_mp_h5&functionId='+function_id+_0x2987('f6','OuNo')+new Date()[_0x2987('f7','oLIP')]()*0x3e8,'body':'body='+JSON[_0x2987('f8','ODZL')](_0x3ad1e8),'headers':{'Host':_0x48ffd1['strdh'],'Content-Type':_0x48ffd1[_0x2987('f9','lJti')],'Origin':_0x48ffd1[_0x2987('fa','ODZL')],'Accept-Encoding':_0x48ffd1[_0x2987('fb','(JtP')],'Cookie':cookie,'Connection':'keep-alive','Accept':_0x48ffd1[_0x2987('fc','miMb')],'User-Agent':$['isNode']()?process['env'][_0x2987('fd','m&OA')]?process[_0x2987('fe','z]$k')]['JD_USER_AGENT']:require(_0x48ffd1['PCbpe'])[_0x2987('ff','ujW)')]:$[_0x2987('100','Co(6')]('JDUA')?$[_0x2987('101','cKp1')](_0x48ffd1[_0x2987('102','T@R#')]):_0x2987('103','Hh&W'),'Referer':_0x48ffd1['DjgWX'],'Content-Length':'36','Accept-Language':_0x48ffd1[_0x2987('104',']dMZ')]}};}}finally{if(_0x47b531['fMapG']('rMCCs',_0x47b531['ZyBVm'])){console[_0x2987('105','DNAp')]('京东服务器返回空数据');}else{_0x59fe81(_0x2581fa);}}});});}function showMsg(){console[_0x2987('106','gBTj')]($[_0x2987('107','nRok')]+'获得红包：'+$[_0x2987('108','gfa%')]+'元');}function TotalBean(){var _0x43b890={'RPmkl':_0x2987('109','[]G]'),'WfGtw':function(_0x3805a8,_0x3b2376){return _0x3805a8===_0x3b2376;},'PEiGH':_0x2987('10a','Rno#'),'YqjmT':_0x2987('10b','ZD@N'),'XZbFD':'TUvFN','jqvkq':function(_0x26406d,_0x3483a8){return _0x26406d!==_0x3483a8;},'SNolc':'RemKp','aZpfb':function(_0x1a495a,_0x3c7bb5){return _0x1a495a!==_0x3c7bb5;},'GDCtg':_0x2987('10c','Sna3'),'Beuqu':_0x2987('10d','*sM*'),'ixDbi':function(_0xf5ab1d){return _0xf5ab1d();},'PJgZP':_0x2987('10e','2Oh%'),'CjWCB':_0x2987('10f','RC#@'),'CzPsP':_0x2987('110','Hh&W'),'SGfdB':_0x2987('111','ODZL'),'dGGBS':_0x2987('112','W0lM'),'sabBk':function(_0x5de62b,_0x431cfd){return _0x5de62b(_0x431cfd);},'EfEyp':_0x2987('113','4rP*'),'sdkmw':_0x2987('114','cKp1')};return new Promise(async _0x8cfb00=>{var _0x32e30b={'aPjCq':function(_0x286538,_0x142496){return _0x286538(_0x142496);}};const _0x3c5b59={'url':_0x2987('115','z]$k'),'headers':{'Accept':_0x43b890[_0x2987('116','DNAp')],'Content-Type':_0x2987('117','LyTO'),'Accept-Encoding':_0x43b890[_0x2987('118','oLIP')],'Accept-Language':_0x43b890['CzPsP'],'Connection':_0x43b890['SGfdB'],'Cookie':cookie,'Referer':_0x43b890['dGGBS'],'User-Agent':$['isNode']()?process[_0x2987('119','lJti')][_0x2987('fd','m&OA')]?process[_0x2987('11a','7yMy')][_0x2987('11b','Rno#')]:_0x43b890[_0x2987('11c','zbt0')](require,'./USER_AGENTS')['USER_AGENT']:$[_0x2987('11d','ZD@N')](_0x43b890[_0x2987('11e','Co(6')])?$[_0x2987('11f','A%08')](_0x43b890[_0x2987('120','7yMy')]):_0x43b890[_0x2987('121','*sM*')]}};$['post'](_0x3c5b59,(_0x562675,_0x10e9fe,_0x43a301)=>{try{if(_0x562675){if(_0x2987('122','UW)u')===_0x2987('123','Z]!9')){console[_0x2987('124','(#$*')]('\x0a'+$['name']+_0x2987('125','oLIP'));console['log'](JSON[_0x2987('126','gfa%')](_0x562675));}else{console['log'](''+JSON['stringify'](_0x562675));console[_0x2987('127','A%08')]($[_0x2987('128','ODZL')]+'\x20API请求失败，请检查网路重试');}}else{if(_0x43a301){if(_0x2987('109','[]G]')===_0x43b890[_0x2987('129','Z]!9')]){_0x43a301=JSON[_0x2987('12a','W0lM')](_0x43a301);if(_0x43b890[_0x2987('12b','DNAp')](_0x43a301[_0x43b890['PEiGH']],0xd)){$['isLogin']=![];return;}$[_0x2987('12c','LyTO')]=_0x43a301[_0x43b890[_0x2987('12d','PZ#w')]][_0x2987('12e','jWuY')];}else{$['logErr'](e,_0x10e9fe);}}else{if(_0x43b890[_0x2987('12f','jWuY')]('LlwAr',_0x43b890[_0x2987('130','PZ#w')])){$[_0x2987('131','4rP*')](e,_0x10e9fe);}else{console[_0x2987('132','(JtP')]('京东服务器返回空数据');}}}}catch(_0x2885b3){if(_0x43b890[_0x2987('133','zbt0')](_0x43b890[_0x2987('134','A%08')],'RemKp')){$[_0x2987('135','PZ#w')]+=_0x32e30b[_0x2987('136','miMb')](Number,_0x43a301['data'][_0x2987('137','gfa%')][_0x2987('138','VQtR')]);}else{$[_0x2987('139','PZ#w')](_0x2885b3,_0x10e9fe);}}finally{if(_0x43b890[_0x2987('13a','ujW)')](_0x43b890[_0x2987('13b','Hh&W')],_0x43b890['Beuqu'])){_0x43b890[_0x2987('13c','W0lM')](_0x8cfb00);}else{$[_0x2987('13d','zbt0')](e,_0x10e9fe);}}});});}function taskUrl(_0x4e0e1d,_0xcf36a3){var _0x2143ff={'ONjiC':function(_0x12533b,_0x682ebc){return _0x12533b*_0x682ebc;},'Pdrgb':_0x2987('13e','(JtP'),'rJpgO':_0x2987('13f','ODZL'),'kbFiD':_0x2987('140','ZD@N'),'KjucA':_0x2987('141','VP(('),'DzSzh':_0x2987('142','oLIP'),'QEXAt':_0x2987('143','7yMy'),'RqxIp':_0x2987('144','ODZL')};return{'url':JD_API_HOST+_0x2987('145','RC#@')+_0x4e0e1d+'&loginType=2&client=jd_mp_h5&t='+_0x2143ff[_0x2987('146','A%08')](new Date()['getTime'](),0x3e8),'body':_0x2987('147','m&OA')+JSON[_0x2987('148','VP((')](_0xcf36a3),'headers':{'Host':_0x2143ff[_0x2987('149','m&OA')],'Content-Type':_0x2143ff['rJpgO'],'Origin':_0x2143ff['kbFiD'],'Accept-Encoding':_0x2143ff['KjucA'],'Cookie':cookie,'Connection':'keep-alive','Accept':_0x2143ff['DzSzh'],'User-Agent':$[_0x2987('14a','lJti')]()?process[_0x2987('14b','OuNo')]['JD_USER_AGENT']?process[_0x2987('fe','z]$k')][_0x2987('14c','oLIP')]:require(_0x2143ff[_0x2987('14d','7yMy')])[_0x2987('14e','ODZL')]:$[_0x2987('14f','YCWm')](_0x2987('150','YCWm'))?$[_0x2987('101','cKp1')](_0x2987('151','LyTO')):_0x2987('152','oLIP'),'Referer':_0x2143ff[_0x2987('153','*sM*')],'Content-Length':'36','Accept-Language':_0x2987('154','MXvu')}};}function jsonParse(_0x28376e){var _0x113e35={'xJJyL':function(_0x165f56,_0xd6b2ea){return _0x165f56(_0xd6b2ea);},'jfjWq':_0x2987('155','Z]!9'),'sjSiJ':function(_0xb14d5,_0x3e398b){return _0xb14d5===_0x3e398b;},'aaApm':'XAKDK','PUlHe':_0x2987('156','gjhg'),'fpFGg':'waVaR'};if(typeof _0x28376e==_0x113e35['jfjWq']){try{if(_0x113e35[_0x2987('157','nRok')](_0x113e35[_0x2987('158','OuNo')],_0x113e35[_0x2987('159','7yMy')])){_0x113e35['xJJyL'](resolve,data);}else{return JSON[_0x2987('15a','z]$k')](_0x28376e);}}catch(_0x5694c2){if(_0x113e35[_0x2987('15b','gjhg')](_0x113e35[_0x2987('15c','OuNo')],_0x2987('15d','Rno#'))){console['log'](_0x5694c2);$[_0x2987('15e','oLIP')]($['name'],'',_0x2987('15f','(#$*'));return[];}else{data=JSON['parse'](data);}}}};_0xodr='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
