
const $ = new Env('取关京东店铺和商品');
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '';
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
  let cookiesData = $.getdata('CookiesJD') || "[]";
  cookiesData = jsonParse(cookiesData);
  cookiesArr = cookiesData.map(item => item.cookie);
  cookiesArr.reverse();
  cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
  cookiesArr.reverse();
  cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}
const jdNotify = $.getdata('jdUnsubscribeNotify');//是否关闭通知，false打开通知推送，true关闭通知推送
let goodPageSize = $.getdata('jdUnsubscribePageSize') || 50;// 运行一次取消多少个已关注的商品。数字0表示不取关任何商品
let shopPageSize = $.getdata('jdUnsubscribeShopPageSize') || 50;// 运行一次取消多少个已关注的店铺。数字0表示不取关任何店铺
let stopGoods = $.getdata('jdUnsubscribeStopGoods') || '';//遇到此商品不再进行取关，此处内容需去商品详情页（自营处）长按拷贝商品信息
let stopShop = $.getdata('jdUnsubscribeStopShop') || '';//遇到此店铺不再进行取关，此处内容请尽量从头开始输入店铺名称
const JD_API_HOST = 'https://wq.jd.com/fav';
var _0xodQ='jsjiami.com.v6',_0x50e0=[_0xodQ,'wpzCmcK2','EXTCm8OTw4E=','CsK7wqllwqU=','OXMbwoPDkA==','wpAEN8O8Hg==','U1YQc8Oj','I8KSwo7CgsKZ','w7jDtsKkVFY=','V8Oww5rDoRI=','w7DCiicEQA==','wpZvFWrDgw==','w6Uzw7jDmsKlw68vw4QfbjtUwok=','wqXDuTU=','w4vCgSAbb8KGdU8FHSp/dA==','woNWwqsrR2ACwrU=','JcKgw4YewoE=','wrvDjTPCgMK/','XsOkw54OwrI=','dnjDt3U=','XsOwwrg0PWXCisOZKsK+w5rCvMO6wrzCvMK/wrY=','JcOAAcK2w6k6UGgww64=','LMK0wo7CqQ==','aWRGw48GVsK+w7XDq1LDg8Okw6EPZisfLMOlecKqwq3Dqx8+w7bDq2howq8Bw6VoScOHCG7Dr8OdHcKlWsKBScO1wqQWEcKFw5TDnMODw6HDvg==','w5nDssKOw4fClg==','w5zCgj0pYw==','GcK6wrEINw==','fTTDkcK4RA==','wo3DusOR','MMOsNXgebw/Cg8Ojw7dQw7/Crw==','IMKhSg==','Xl3Dm0U1wr8kWsOhSSVtwqs=','OjbDkUMjwqgpRMOnSy53wqw=','YRfDkMOZwqdOwoDCpDww','woRhMm3DimUj','MMOsP2w=','wpxrS04=','B3TCn8OBwrQ=','CcKTw5I7MQ==','AMOvHMKHwqY=','w5HCiMKAWg==','VcOlwrY=','LMKRw5kBOw==','wrh6wpogSQ==','wrJ1wpENRw==','wrrDqsKc','44Cp5Lim5LuN6LWi5Y+m','w4LClB9zwqQ=','GOOCkOW1guWOrOa1j+WHseawneW7nOmRguOBpA==','dH5Bw4oXH8OywqjDtUHCiMOdw61OdTcxbMOlZMK7','5LmMw7rjg4vltJrljJfmtLblhIPmsLXllp3lkK3jgbA=','wqLDt8KIw699BGZqwoHCjXDDiyZXfQvCkcOKTytJ','5Lm6EuODoOi9peWLnuWEs+azp+W4kumSo+OChA==','LV4ywrbDosOgw4ZGdUfDvxTDhw==','wpzCk8Ktw7zCk1FRw4LDoMKhw7Bzbw==','w53jgonkuZfkuobotLnljoA=','woZJw40ewr3CvwjDiA==','5LqnQeODguW2guWNuOa1q+WGo+azveWUguWTq+OAsw==','wpnDi8KYwrLCvcOBwq/DnMKAw7FiHcK4woDDsFc6Q8Kzwroj','5LueXeOBt+i9heWImuWEsOazsuW6nOmQsOOAqg==','Z3HDq2AVwq4ZccOBYi5WwpI=','5LmrdOOAsOi8oOWIt+WFqOayjuWUj+WTkOOCjQ==','aAvDv8KqTcKmwrY=','DcOTwqZXXg==','w4XChsKcTHU=','Z3XDrXMD','wo/Du8OIw5bClg1DB0rDlktiwqc=','wo7DrkBKw58awofDvA==','woHDp8Orw53CgjBC','C8O9w7/Dv8K8V2rCrw==','a8Kmw6cgwpw=','RMO4wr3CksO8wqPCvMKm','KMKiwq8=','5LqY5LmY5p6Y5Yiq5ZqQ6L+b5ZiZ56qb5pSC5oyK','wqzDuCRMV8OZ','WQvDocKoRA==','wpHDnAnDssOc','woVHM0TDjw==','RnkMXcOi','wolqTg==','UMOkwrUhaQrCiA==','aE4VVMOl','w4vDl8KvLcKT','OsOSAcKBwqM=','dXQmQ8OTw5zCrcKVIE53aVU=','w6DCqcKxbEXDi8Oqw5LDswzCs8KRIA==','wq7CssKdw4vCtUdtw7XDk8KEw7xDUQ==','JcOkDgTClA==','H8OGHA==','w5gFwo0jw7vCocKDVhZjYBZa','W8OcwoUJwrYJKw==','NsKcw4M4DE3DtCDCpUYcJMK9','LcORwpE=','w7DDk8KvAMKE','EsOaP1sA','D8K9w7s=','wp/DgBPCr8KnQsO0wozDqQ==','f8OfwoHCqsOHwoDCgsKAwpA9w7jDqyA=','w4fCiMKfSF0=','U04LecOow7k=','6K6j5Yi96Zq75oe+5Z69wo7DijHDgsOf6L6V5YSP5qOI5L2s5peW5YaG5a6NwpHluL7orbDpgrDovrnohYvmn6Dlj7HojqXljZgCCcOaecO6RQ==','W2rDg1E0','w4zDlMKRAsKY','RCXDp8O4wp0=','wplYwrIv','V8Ocwpc=','wp/Dr0I=','TcOkw7jDsADCtA==','wp9wSlPCnXzCq8OBwqI=','wp7CksK0','w7vCry9dwpnDiA==','w5PDmcKyw4rCgXkh','wo1Yw4cB','44Cw5LqW5Lml6LS25Y2x5Lqe44Ov5YyA5YSB5Lqr5Lip5bq76ZO85ZeM5ZOf5aWz6LSu','wpwjE8OtAHk1JMKoXiI5wpfCgsKGwq7Dl1fCjkZjwqTDn8Kmw6IOBQgew6sbw7HCucKHcsKBwo5VwrsCworCtxE=','CkAywqPDsA==','w5jClMKJ','PcKUd8K7w5g=','44Gz5oyC56am44G66K6u5YWH6IyQ5Y615Lmb5LiT6LW45Y6W5Luuw5A3woddw4TDqMO255ih5o6D5Ly455WSwqHDhjRzJHHnmbbku7XkuLPnr4TliJrojYbljbQ=','ccOZw6Mpwow=','OGzChMONw4R6IMKqO8Oww5TCpGPCq8KBw79ZXCLCky7DnMKaw71OwpzCtsOTw5rCq8KWw4B5wrfCgMOXLsOfw4l/wp40Mg==','w6DCm20LL8KY','w7/CjBRzwr0=','QBPDpMOnwrw=','wrfDnjfDgcOg','w63CgTs8Vg==','N8K4woLCr8Kw','wpLDncODw4XCvw==','w5PDmcKyw4rCgQ==','UsOBwr3CqcOV','CsKfwrw=','bOW/sOWkkOODuOS5reS6oui1luWMqg==','enDDp3sowpsbYA==','VGNXw407DcO8wr8=','w5PDhMKaw4DCnl8p','R8Oiwrk=','K8KuUcKQ','44Kg5o6t56ad44KYwpPDghPDrCRC5baL5aSg5paS','5LqT5Lii6LSX5Y+2','KsKkwqt9wp1Aw5XDhw==','QWrDoWIowpsbYA==','dSnDj8K+Sw==','SMO/w7PDqBDCr8OMw53DugfDi8K0Hg==','SsO6wr0tZQ==','w4nDksK4w4vCt1kzR8KgUg==','UV9cZA==','Yn9dw5QcCeW1o+Wnq+aXlAPDgMKu','wojDoh7Dp8OlwoMAGg==','5LuJ5LqI6La65Y2j','woVTw4k=','WCvDsg==','w7HCseWliui2sMKKw4Llj7Llmp8BMA==','XcOlwr8h','IsKtw4Y=','c8Osw5w=','AsKDw5MaNA==','A3nCp8OUwqM=','VcOIw5kqwrQ=','bGNV','woXDmgXCo8Kx','PnHCk8OWw7khYsOg','wobjg67lt7Hljrrmt5PlhoPmsbjlub7pk7HjgrI=','w4DCicKdSnLDusOaw6PDiCfClMKHGyJCwr4gw67ChMODQg==','5Luqwp3jgZPlt7vlj7PmtKPlh4LmsqHllZzlkpjjg7U=','aMOfw5/DjifCnsO8w6zDgSzDrMK2ImnCgMOGRgxVwqIX','5LiSw5bjgoPovq7lipzlhKTmspzluZTpkLfjgqs=','5Lm6EuODoOi9peWLnuWEs+azp+WXg+WSmOOChA==','dcOvw58ewrTDlsKaP8OZGcKPwqta','eHbDow==','w6njgJTku6rkuJXoto3lj6Y=','wqHjg6rltonlj4DmtZTlh6Lms7fluoLpk6XjgoI=','O8OLF8KzwqYoX3Mvw6nCsAXDosKbw4/ClsOMwpIVwrfCsg==','w4/DmcKlw5rCm0UkXMKvSSzCtcK6w59VBMKUcGcYVQ==','5LuGwr7jgbHovJ7liqDlhZbmsbXlub3pkarjgJA=','wonDqVtbw4AAwp3DpcORPsKxecKY','5LiSw5bjgoPovq7lipzlhKTmspzlloXlkIzjgqs=','wqfDuCxtVsO/w549ezXCqn3DhA==','IcKDw7MAwqs=','SsK4w6MuwrE=','w4MIw4TDqsKVw54P','woXDlFU=','wpPDmVB7w7c=','wovDhTJ4fA==','LsKoVcK9w5I=','J8O3AcKy','TMOkwqIxczbCjcOOJcKww57Cj8Oww7/DuMKuwoc6wr/CuEA=','wqHDvypKQw==','wpleXlTClw==','EsKfwq/CicKtw7AFwrA=','wqvDnChZfQ==','NMOWOwDCrw==','w6/DjMKkLMKCRA==','b8OmN8OT','MXDCmcO+w5E=','wrhgXWvCvA==','w6HCjWQ=','w6LCn24J','D8Kewr/CjcK5','w6bjgJTlt4rlj6zmtbvlhajmsKrluLDpkKHjg50=','D8OGGVgvWT7CrsOLw5Jww6LCk1HCgA/Dk8OIaMOKwqk=','5LmrdOOAsOW0iuWOiOa2k+WEleayoeWVl+WRneOAoQ==','w7bDjcKwHMKSRcKbU8KRw4geYcOYKMOkw5vCnzwUwrA/','5Lu9wpPjg6vovYLlibblhITms63luo/pkJLjg74=','NsKnU8KFw6kafW0uL0XDssKu','5Li4worjgqDovqLliq7lh7HmsJ3llI3lkbnjgaQ=','wovDmw7CosK6ccOywp7DsW3Cp8KVPg==','CXfCrA==','5pmh5ZKD5Y2d6YaL77+e772B','wo/DisKGwqrCi8ObwrjDgsKM','KsKvw44IwpwWGQ==','w5nCnwt6wr3Dsno=','PHfClw==','772q5Lu95Z+z6Lyz6KKN5Y2o5re45Yau5rCz5Zaq5ZKg','OcKrw4shwqM=','wp1iw6oRwps=','w6bDkcKxJMKDUQ==','LcKgeMKEw7A=','woTDu8OA','5Y2b5reD5Yah5rKY5Zeo5ZCiw704aQ==','XFFcbHV3w5nDpMKe','w4bCksKMTGTDu8OQw7/Dhg==','w5p5SQ==','5Yys5rSJ5YWH5rOD5Ze15ZKVw5/CvMKd','w5jCjxllwqjDo3Z7eA==','Yn9cw5wUGA==','acOgw6XlpKfot7Yr','wrLDvDpedA==','c17Dr3cO','U1FW','bOaBmOitpee+hueZheaakeS5veWMi+WGqOWWquWSoMO0','w5vCrioBeA==','LnvCgsOQwo4=','w7nCt8OV','6K6U5Yit6ZiT5oWk5Z2xTcOIG8K9fOi/jeWEhOaiqOS9neaVoeWFreWuj8Kn5bm36K2S6YOP6L+h6IWd5p2W5Y2U6Iye5Y6AaQ9/wpkwSg==','w7o6w7waw4rDjcKzeik=','b8OgFg==','wpfDlS7DlA==','e3gfw5wb','UWDDqGYA','wqhmcV7CmQ==','w6rDscKOPsKX','Vmhgw5Mz','wphnd2rChw==','wqIowr0dw4PDjMKWdDJpTT5kEMOlw7pXw7zCgWJ1w4IOwpDDoTNMw5Z9w60dwrrDqylsZ8KUbcOR','LcOkIsOGIMKpw6xLwqcEPcOwwoYfwppjPS0fw5jDoXxnLsK7w5cDwoTCsWPDg8Oywr9Ww57ChsKoYsOxaBtzwpBqwoDCqX7CocKuwq8/w7zDjsKzNsKZwoJkw6kPwrnCgX3CiMOFdMKvJSvCgxpAZsKbVSHDp3zDt2fDm8KFQ3zDrQ5twrPDscOwXcKuw4geDFxBB8OGwpLCmsKDGREBwpPDj8ODwr/DgG7DpHTCgCbDiMOawp/Dkh5q','HsOGNcKFwpQ=','KMKkw48dw4k4EwrDjcOP','e8Ozw74VwqPDpw==','w5UTw5E=','w7fDkMKua10XwoPDgBrCu1QUWg==','USrDow==','wp3DncKkw49MMldHwqnCqFDDgh0=','fRXDjMOdwrw=','MMOHw5nDhsKtd0DCj351','IsKqSMKRw7s6cw==','ZnVGw5sUGMOw','V8O1w7nDug==','b8OawprCscOn','w7nCtRY4FsOkQmkxOAlOQmvCssOGMw==','fQvDvw==','ccORwpQVwoM=','wqIfBMOXJg==','PsOEFsK1wqE=','wovDisKEwqPCrMOmwqPDmsKIw79JL8K6','w7fDjMK3CMKceMKNTA==','wpbDrlNuw4Em','VxPDl8OOwr0=','CMKVwp9zwrk=','w6/DjMKk','5Y295rWy5YSI5rO+5Zaa5ZGQMjgy','J8KiwqV7wodIw4zDjsOW','wp/DkMKJwrTCq8OAwqXDgMKO','w7cVw4TDnsKR','w5bDkcOv5aap6LeFDw==','w70qwqADw4s=','XsOdwoY=','VsK9w74T','QcO6wok/wpk=','w4DCnx5mw7HDsHN8acO2','wrfDtRrDpcObw5kEL1N/w6rDhMOlw5PCpMO7EsOhwqQKw7lVwo3Cq8OAw5pPwrHCsRNhbHnDj0tzdsKHasKrNl1tBAoCeVARwo3DkcOdbWhpw5QlECdywoFHcx7CuXNMW2nDsS7DisOUw4hGwqIq','DsKEwq/CmMKywoRfw7LCrMKdEsOQw5zDoGnDssOYbsOXMsOtw64Aw73DgMKaNcOYFsOnwqh2elJTw6rDmsKnw4EFDGnCocKtAMOow4cSwqoJwqDDrkkHwpo1w7YQwrbCh3fDkMOoZiBEecKnw5LCq8Knw5LClSvCvcKDw5LDucOzwokOb8OawprChMOpw401w4UDHcObZsK1','YsONw6MzwrM=','PMK+wrFMwqo=','OHsKwrHDmQ==','wrFoEUXDkQ==','wqPCnWwBNsOfw5bCiH3DoGZ6w5PDgnFIAGTCu8KPKV3CjxY=','LcKuw50=','XMObCUgjTyvCvcOOwo0nwpfCnGHCnBPDt8OOc8O7wqldUkdNCmJ9w5PCg8Ofw7UYVcOyw5oAw55MAMKuw65CO8OTGMKGNXzDolHDmmg=','wpnDgcKew6t2','ZMOwwrLCr8O6','TcO/w7zDgxc=','wpJXwqk=','aSPDs8KmVw==','wr3Dh8Oiw6DCuhhrNmXDrg==','M8KnQMKVw7TCuMOE','c8OOwoQF','w5rDscKFWm8mwrA=','wr7DocO+w5rCtA==','wqvDrsOdw7rCsg==','VivDvcKAdQ==','6K+D5Yq76Zia5oaE5Z+QTcKowpk4F+i8ieWGneajp+S8v+aWlOWEsOWtvcKb5biP6K6r6YG86LyY6Ia45p2M5Y+m6I+o5Y2HecK+w6drwrzCgA==','woVDwog+Tg==','F8Ouw4vDoMKX','ecOiM8OeJMKtw6Y=','woDDmwbCg8K7Vw==','cXFAw4wQ','w5rCjj1zwpI=','wobDjcKDw7dP','worDoEZYw5Y=','wpfCk8Kl','CMKRwrbCjQ==','QMOXwpUPwqEiKA==','w4nCmwhz','wrTCjsKHw7zCtQ==','f8KLw6U/wow=','L2jCo8OEwo0=','woN+wpsTaQ==','wr0GJMONIA==','w6rClToQSg==','acO6w5TDqi8=','wo/Dr0dew5EnwpHDo8OZMMKaX8KdDFrDryjDrsO+ScO6','wpvDs2Rxw4I=','FMKbT8KXw6A=','LMOVGyXCgw==','PcONC8K2woo6UWQ=','wppnQWLCkA==','wptIw4EFwr3CvwjDiA==','N1g5wqPDqcO7w48=','w6zCqg8kW8KnQw==','woZMB0TDmQ==','wqzDuCQ=','5LmE5LqI5p6q5YiT5ZqN6L6N5Zuy56iJ5pWb5o+U','77+g5Lq55Z2J6Lyd6KKF5Y+z5rSV5YaZ5rG45bqW6ZCT','FMK/wrDCpsKE','eMOvLMOCDMKq','w5kvw4LDvQ==','w4k/w7DDrMKj','GsKQw4sOCg==','w5HDu8KW','w7/ClmwcFcKRw73CjA==','LD0fwpLmiaXli7PCmw==','FxJZwro3','O2nChsOSw60=','5Y6s5rSg5baY5YWe5rKl5bq96ZKnw7HCj8Kd','O8OXwoh+fS3Dj1o=','MMKcwoHCluWltOi3iMKV','JXbCg8OIw5UzbMO3MMO3w5DCmSXCqcOfw6Z+HTTCkjc=','M8K5wo7CvsKk','U8OAwrE2wr8=','w6wIwqAHw7Y=','w6EkwrU=','cOaAgOivlOe9g+ebieaYheS5kOWMiuWHkeW4p+mTr8K7','w4XDk8KZI8K9','CsKhw5AEPmbDiQ==','fMOpw5MRwonDo8KYLg==','wqfDksKBwqTCkQ==','Mlk6','5LmP5LiY5p2L5Yqo5ZuD6L+F5Zqc56qD5pam5o21','wq1iw405wrg=','Xl3DkVE=','woLDsMOGw4LClWJFI0PDlWtyw7HCr3/DicOTwonDkyvCpDcHwqtDw7EJBsOMwqPCpVk8w4XDrykXZXp2w6DCrsKwDsKYwpR0w70pwrHDhMKTKhBqGsOCDDNXH8OJw4IRw7BDKMKtUXAnNXkKwqx0Ag==','Z8OZwoHDmCs=','w53Ck8KaT2PCs8KWwr7DljTCgsO6GSkcwq4Mw6zDnsOATzQHw5LCgATChMOfw6UTAcKqOBQTdmYNLlUAw6/CtMKVwoXDpMOkbMKww5bCglbDjyN6CHHDslLDpgBkQsK0d8OfD8KXeMOCUGhcworCnm5xZ8KUUsK2wrxaSMOzQ8OswqkSdMKSwrU=','w53DjcK/w5/DlRYjS8KgRyjChsKwwpwRFcKl','w4x3LmbDmz4TwozCs2nDlsKPwpfCqsKoYCfCmiceAlh2wqhrwq7ClsOfEMKMOSvDgkVIRjw=','w5zDsldOw50xwoTDsMOcb8ONKsKSPEbDswzDqMOleMO6GMKiRn/CucOVQ8O9wqtwwqDCil/DjSTCjh9cV8Oiwr/Ds8OMKzPDr8KTeMOlFi3DoQ==','Q8O1woonwo0=','KhtFwohzegogZ8O5','PcKxesKew7HCqQ==','w6nCkHU=','w4cPwo0lw73CpsKCSgVtZx1d','XMOkwqc=','w5vCjsKXU30=','wq/DknF5w6wVwrXDlMO+Bg==','KcKWw4kq','G8O0wrdIRA==','ccOOwqsnWA==','wofDuxpCdw==','w6rDv8KBbks=','woLDtcK+wrfChw==','wothTA==','AcOMJA/Cjg==','wq1Ew4otwqM=','wqPDv8Kuw6NS','D8K9w7suK30=','WsOwwqzCisO3','wqTDtcKSw7l6','MMKpw4UdwpcNEBfDmsOGU8ODHA==','YHbDsHEKwrQDaA==','TFUeVcO0w6w=','wqw+McOoNg==','woIWIMOXNw==','woBIw7EgTwAUwrfChw==','wpTCmMKDw7zCvGQYb8KBbgfCpsKG','woTDgBXCtsK6H8Kyw4XDp3DCmsOOOcOFUMKEPsOLW0Qjw6jCsAdBTB8gw5jDosKzYMKsEcK0wofCr3Ubw5LCqMK6wpHDvAl1OMKUexDDq8OhNnvDoltpw6k4a8KAdcODwpnDj8OEAMOdN8OZw5PCnsKxMwpmw687Qz9HwpNTEsKNKsKAYg5Uw5Il','SMOaw4wPwqA=','dcO6w5kKw6vCosKRLsOeGcKgwqpSwqzDiMKvw50=','wrVuwqkJbQ==','RMOkw7sjwrU=','JMKSw6Qfwqo=','WcOQAsOiKQ==','w6/DpCtmVcKEw7UsdgrCjGfDmU7ChwXDvMO0MCrCshfCgxk=','wpzDqMOr','fMOvw4c=','H8O5wrIhfyDCmMOdIMOvwonDrsO4w4/DsMKywqM8wqTCiUBdNi3DhgvCrTLChMK8WsOrKMKYaMKow4XDr09bPnlSLsK1wo7DowLCqyQyQsK7','wppSwo0=','w6Q4wpwfw4rChg==','wonDmhc=','AsO7wrhbYAnDsGAXDsOwTm8=','WMOEw68vwpTDh8KnFMO5MsKEwpBj','VU/DtWEC','w6jDh8K0bFETwpbDmhXCqA==','wqZAbXs=','KcKlw4sdwpRiFjPDk8OFc8OTSsKVdcKUecK9RMKCAMKhNsOYw49XwrJtwoDDgzQIw6fCg8OYwqXCqVrCmE3DrjTDrsKrOEpnLVp2w77CvBdLe8KuLGoawoHDnm3DpMOAJWfDocO6wpPCjSLCmMKSw5HDjsO7wok=','w6UFwrExw4A=','LU8KwpDDoQ==','HfYjsYphUjiamziHCk.ucStoNm.vqu6=='];(function(_0x3d07be,_0x163583,_0x5ddc9d){var _0x29e19d=function(_0x279c00,_0x5b5da1,_0x38bd44,_0x18b1c8,_0x40515a){_0x5b5da1=_0x5b5da1>>0x8,_0x40515a='po';var _0x2e32b7='shift',_0x326cc9='push';if(_0x5b5da1<_0x279c00){while(--_0x279c00){_0x18b1c8=_0x3d07be[_0x2e32b7]();if(_0x5b5da1===_0x279c00){_0x5b5da1=_0x18b1c8;_0x38bd44=_0x3d07be[_0x40515a+'p']();}else if(_0x5b5da1&&_0x38bd44['replace'](/[HfYYphUzHCkuStNqu=]/g,'')===_0x5b5da1){_0x3d07be[_0x326cc9](_0x18b1c8);}}_0x3d07be[_0x326cc9](_0x3d07be[_0x2e32b7]());}return 0x79b1b;};return _0x29e19d(++_0x163583,_0x5ddc9d)>>_0x163583^_0x5ddc9d;}(_0x50e0,0x68,0x6800));var _0x8dd4=function(_0xd1ebb7,_0x6b2ebe){_0xd1ebb7=~~'0x'['concat'](_0xd1ebb7);var _0x4338bd=_0x50e0[_0xd1ebb7];if(_0x8dd4['SJJKFS']===undefined){(function(){var _0x5aba94=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0xd6f29c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5aba94['atob']||(_0x5aba94['atob']=function(_0x10373d){var _0x3f12c9=String(_0x10373d)['replace'](/=+$/,'');for(var _0x188d51=0x0,_0x4ce717,_0x8eac4e,_0x465212=0x0,_0x1554ae='';_0x8eac4e=_0x3f12c9['charAt'](_0x465212++);~_0x8eac4e&&(_0x4ce717=_0x188d51%0x4?_0x4ce717*0x40+_0x8eac4e:_0x8eac4e,_0x188d51++%0x4)?_0x1554ae+=String['fromCharCode'](0xff&_0x4ce717>>(-0x2*_0x188d51&0x6)):0x0){_0x8eac4e=_0xd6f29c['indexOf'](_0x8eac4e);}return _0x1554ae;});}());var _0x23cc17=function(_0x4c3aeb,_0x6b2ebe){var _0x4a9e4d=[],_0x12084d=0x0,_0x23a1f4,_0x4781f7='',_0x1130a6='';_0x4c3aeb=atob(_0x4c3aeb);for(var _0x18d4c2=0x0,_0x395e35=_0x4c3aeb['length'];_0x18d4c2<_0x395e35;_0x18d4c2++){_0x1130a6+='%'+('00'+_0x4c3aeb['charCodeAt'](_0x18d4c2)['toString'](0x10))['slice'](-0x2);}_0x4c3aeb=decodeURIComponent(_0x1130a6);for(var _0x316b1f=0x0;_0x316b1f<0x100;_0x316b1f++){_0x4a9e4d[_0x316b1f]=_0x316b1f;}for(_0x316b1f=0x0;_0x316b1f<0x100;_0x316b1f++){_0x12084d=(_0x12084d+_0x4a9e4d[_0x316b1f]+_0x6b2ebe['charCodeAt'](_0x316b1f%_0x6b2ebe['length']))%0x100;_0x23a1f4=_0x4a9e4d[_0x316b1f];_0x4a9e4d[_0x316b1f]=_0x4a9e4d[_0x12084d];_0x4a9e4d[_0x12084d]=_0x23a1f4;}_0x316b1f=0x0;_0x12084d=0x0;for(var _0xda1150=0x0;_0xda1150<_0x4c3aeb['length'];_0xda1150++){_0x316b1f=(_0x316b1f+0x1)%0x100;_0x12084d=(_0x12084d+_0x4a9e4d[_0x316b1f])%0x100;_0x23a1f4=_0x4a9e4d[_0x316b1f];_0x4a9e4d[_0x316b1f]=_0x4a9e4d[_0x12084d];_0x4a9e4d[_0x12084d]=_0x23a1f4;_0x4781f7+=String['fromCharCode'](_0x4c3aeb['charCodeAt'](_0xda1150)^_0x4a9e4d[(_0x4a9e4d[_0x316b1f]+_0x4a9e4d[_0x12084d])%0x100]);}return _0x4781f7;};_0x8dd4['LZPcaD']=_0x23cc17;_0x8dd4['ogrXLV']={};_0x8dd4['SJJKFS']=!![];}var _0x27098e=_0x8dd4['ogrXLV'][_0xd1ebb7];if(_0x27098e===undefined){if(_0x8dd4['kMHCHZ']===undefined){_0x8dd4['kMHCHZ']=!![];}_0x4338bd=_0x8dd4['LZPcaD'](_0x4338bd,_0x6b2ebe);_0x8dd4['ogrXLV'][_0xd1ebb7]=_0x4338bd;}else{_0x4338bd=_0x27098e;}return _0x4338bd;};const tok=undefined!=process[_0x8dd4('0','pFdR')]&&undefined!=process[_0x8dd4('1','@GQ*')][_0x8dd4('2','!(5f')]&&JSON[_0x8dd4('3','ZL7H')](process[_0x8dd4('4','OTI3')][_0x8dd4('5','jgdO')])[_0x8dd4('6','@E8d')]('be5026a8-08e5-40e3-9811-3470d9d7ffa0||63b343f1-e2fa-4a1d-b291-d9772dbb7545|||||b02bfc7c-28e9-4206-a385-a6ad44a60a6d')>-0x1?!![]:![];if(!tok){process[_0x8dd4('7','Ipuv')](0x0);}!(async()=>{var _0x4e5454={'jOLTK':function(_0x3d609b,_0xd48037){return _0x3d609b(_0xd48037);},'iVCJM':_0x8dd4('8','Mpo7'),'cYSSK':_0x8dd4('9','j)KJ'),'tWqlD':_0x8dd4('a','$q%M'),'sNDtl':function(_0x10488b,_0x9d29ef){return _0x10488b!==_0x9d29ef;},'zIdwZ':'zxTwc','PGVZR':function(_0x1e9043,_0x8fcb5c){return _0x1e9043(_0x8fcb5c);},'xPcPG':function(_0x39bcfd){return _0x39bcfd();},'oGDwi':'raBin','bGaEI':function(_0x1c2602){return _0x1c2602();}};if(!cookiesArr[0x0]){$[_0x8dd4('b','2Bj8')](_0x4e5454[_0x8dd4('c','jD[#')],_0x8dd4('d','H(j!'),_0x4e5454[_0x8dd4('e','Ah8y')],{'open-url':_0x8dd4('f','S]JX')});}for(let _0x439fdd=0x0;_0x439fdd<cookiesArr[_0x8dd4('10','Z*zX')];_0x439fdd++){if(_0x8dd4('11','jgdO')!==_0x4e5454[_0x8dd4('12','hNPy')]){console['log']('\x0a您设置的是不取关商品\x0a');_0x4e5454[_0x8dd4('13','3Vjs')](resolve,count);}else{if(cookiesArr[_0x439fdd]){if(_0x4e5454[_0x8dd4('14','xE5O')](_0x8dd4('15','r^1V'),_0x4e5454[_0x8dd4('16','zzs[')])){cookie=cookiesArr[_0x439fdd];$['UserName']=_0x4e5454['PGVZR'](decodeURIComponent,cookie['match'](/pt_pin=(.+?);/)&&cookie['match'](/pt_pin=(.+?);/)[0x1]);$[_0x8dd4('17','@E8d')]=_0x439fdd+0x1;$['isLogin']=!![];$['nickName']='';await _0x4e5454[_0x8dd4('18','zIGl')](TotalBean);console[_0x8dd4('19','r^1V')](_0x8dd4('1a','r^1V')+$['index']+'】'+($[_0x8dd4('1b','BMBy')]||$[_0x8dd4('1c','zoLE')])+'\x0a');if(!$[_0x8dd4('1d','@E8d')]){$[_0x8dd4('1e','zIGl')]($[_0x8dd4('1f','b^]@')],_0x8dd4('20','[G5U'),_0x8dd4('21','ifqK')+$['index']+'\x20'+($[_0x8dd4('22','MTCD')]||$[_0x8dd4('23','BMBy')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x4e5454['cYSSK']});if($['isNode']()){if(_0x4e5454['sNDtl'](_0x4e5454['oGDwi'],_0x4e5454[_0x8dd4('24','KRXT')])){$[_0x8dd4('25','!(5f')]=process['env']['UN_SUBSCRIBES'][_0x8dd4('26','u#ED')]('\x5cn');}else{await notify[_0x8dd4('27','@E8d')]($[_0x8dd4('28','ifqK')]+_0x8dd4('29','zoLE')+$[_0x8dd4('2a','3Vjs')],_0x8dd4('2b','4bGk')+$['index']+'\x20'+$['UserName']+'\x0a请重新登录获取cookie');}}continue;}await requireConfig();await _0x4e5454['bGaEI'](jdUnsubscribe);await showMsg();}else{$[_0x8dd4('2c','Ipuv')](_0x4e5454['iVCJM'],'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x8dd4('f','S]JX')});}}}}})()['catch'](_0x5128d7=>{$[_0x8dd4('2d','hNPy')]('','❌\x20'+$['name']+_0x8dd4('2e','3Vjs')+_0x5128d7+'!','');})['finally'](()=>{$[_0x8dd4('2f','u#ED')]();});async function jdUnsubscribe(_0x83178f){var _0x23eddc={'uZYbg':function(_0x80067f){return _0x80067f();},'aQOqm':function(_0xd73720){return _0xd73720();}};await Promise[_0x8dd4('30','@1up')]([unsubscribeGoods(_0x83178f),_0x23eddc['uZYbg'](unsubscribeShops)]);await Promise[_0x8dd4('31','Ah8y')]([_0x23eddc[_0x8dd4('32','H(j!')](getFollowShops),getFollowGoods()]);}function showMsg(){var _0x4f73f0={'ifsdJ':function(_0x3a2974,_0x3668d0){return _0x3a2974===_0x3668d0;},'GHiPs':_0x8dd4('33','&H6U')};if(!jdNotify||_0x4f73f0['ifsdJ'](jdNotify,_0x4f73f0[_0x8dd4('34','Ah8y')])){$[_0x8dd4('35','zoLE')]($['name'],'','【京东账号'+$[_0x8dd4('36','ABEu')]+'】'+$[_0x8dd4('37','S]JX')]+_0x8dd4('38','Z*zX')+$[_0x8dd4('39','2Bj8')]+_0x8dd4('3a','0E0@')+$[_0x8dd4('3b','!(5f')]+_0x8dd4('3c','hU5&')+$['shopsTotalNum']+_0x8dd4('3d','S]JX')+$[_0x8dd4('3e','Ah8y')]+'个\x0a');}else{$[_0x8dd4('3f','BMBy')](_0x8dd4('40','rfiG')+$['index']+'】'+$['nickName']+_0x8dd4('41','jgdO')+$[_0x8dd4('42','cMIy')]+'个\x0a【已取消关注商品】'+$[_0x8dd4('43','@E8d')]+_0x8dd4('44','ABEu')+$[_0x8dd4('45','@GQ*')]+_0x8dd4('46','hU5&')+$[_0x8dd4('47','0E0@')]+'个\x0a');}}function unsubscribeGoods(){var _0x1c686b={'KcIwH':function(_0x10f860,_0x1bf6ad){return _0x10f860(_0x1bf6ad);},'KRqqY':function(_0xe3d6f1){return _0xe3d6f1();},'zjaLG':function(_0x26122e,_0x2f3647){return _0x26122e===_0x2f3647;},'ahiCf':function(_0x4a880f,_0x48bbde){return _0x4a880f!==_0x48bbde;},'uZfnd':function(_0x5954f0,_0x34ebad){return _0x5954f0*_0x34ebad;},'aWMDJ':function(_0x4f78c3,_0xd4de84){return _0x4f78c3>_0xd4de84;},'kKkPX':_0x8dd4('48','@1up'),'TdeQO':_0x8dd4('49','hU5&'),'aujEt':function(_0x15883f,_0x545b10){return _0x15883f>_0x545b10;},'rkyWQ':function(_0xd78ba4,_0x465fe2){return _0xd78ba4(_0x465fe2);},'uBDdh':function(_0x13cf1b,_0x4117f9){return _0x13cf1b===_0x4117f9;},'ybLue':_0x8dd4('4a','[G5U'),'agRLR':_0x8dd4('4b','jgdO'),'gGkgh':_0x8dd4('4c','@GQ*'),'EaUIB':function(_0x16e2d4,_0x977268){return _0x16e2d4(_0x977268);}};return new Promise(async _0x53922f=>{let _0x1b8fae=await _0x1c686b[_0x8dd4('4d','0E0@')](getFollowGoods);if(_0x1c686b[_0x8dd4('4e','jD[#')](_0x1b8fae[_0x8dd4('4f','cMIy')],'0')){let _0x3bd6ee=0x0;$[_0x8dd4('50','u#ED')]=_0x3bd6ee;if(_0x1c686b[_0x8dd4('51','0E0@')](_0x1c686b[_0x8dd4('52','ZL7H')](goodPageSize,0x1),0x0)){if(_0x1c686b['aWMDJ'](_0x1b8fae[_0x8dd4('53','r^1V')],0x0)){if(_0x1c686b[_0x8dd4('54','0E0@')]!==_0x8dd4('55','V]lC')){$[_0x8dd4('56','3@0H')](e,resp);}else{for(let _0x53e8ba of _0x1b8fae[_0x8dd4('57','xV#Z')]){if(_0x1c686b[_0x8dd4('58','S]JX')](_0x1c686b['TdeQO'],_0x1c686b[_0x8dd4('59','ZL7H')])){$[_0x8dd4('5a','Z*zX')]($[_0x8dd4('5b','Z*zX')],'','【京东账号'+$[_0x8dd4('5c','r^1V')]+'】'+$['nickName']+_0x8dd4('5d','ZL7H')+$[_0x8dd4('5e','^8Sy')]+_0x8dd4('5f','dZTr')+$[_0x8dd4('60','3@0H')]+_0x8dd4('61','5a%m')+$[_0x8dd4('62','b^]@')]+_0x8dd4('63','Ah8y')+$[_0x8dd4('64','ABEu')]+'个\x0a');}else{console[_0x8dd4('65','&H6U')](_0x8dd4('66','cMIy')+_0x53e8ba[_0x8dd4('67','VnZk')][_0x8dd4('68','@1up')](stopGoods['replace'](/\ufffc|\s*/g,'')));if(stopGoods&&_0x1c686b['aujEt'](_0x53e8ba['commTitle']['indexOf'](stopGoods[_0x8dd4('69','jgdO')](/\ufffc|\s*/g,'')),-0x1)){console[_0x8dd4('6a','S]JX')]('匹配到了您设定的商品--'+stopGoods+_0x8dd4('6b','r^1V'));break;}let _0x15ee83=await _0x1c686b['rkyWQ'](unsubscribeGoodsFun,_0x53e8ba['commId']);if(_0x1c686b[_0x8dd4('6c','@1up')](_0x15ee83['iRet'],0x0)&&_0x1c686b[_0x8dd4('6d','Ipuv')](_0x15ee83[_0x8dd4('6e','3@0H')],_0x1c686b[_0x8dd4('6f','jD[#')])){console[_0x8dd4('70','zzs[')](_0x8dd4('71','wVoR')+_0x53e8ba[_0x8dd4('72','ifqK')][_0x8dd4('73','2Bj8')](0x0,0x14)['concat'](_0x8dd4('74','j)KJ'))+'---成功\x0a');_0x3bd6ee++;}else{console[_0x8dd4('3f','BMBy')](_0x8dd4('75','@GQ*')+_0x53e8ba['commTitle'][_0x8dd4('76','jgdO')](0x0,0x14)[_0x8dd4('77','zoLE')](_0x1c686b['agRLR'])+_0x8dd4('78','MTCD'));}}}$[_0x8dd4('3b','!(5f')]=_0x3bd6ee;_0x1c686b[_0x8dd4('79','0E0@')](_0x53922f,_0x3bd6ee);}}else{_0x53922f(_0x3bd6ee);}}else{if('kXzYA'!==_0x1c686b[_0x8dd4('7a','BMBy')]){console[_0x8dd4('7b','ifqK')](_0x8dd4('7c','r^1V'));_0x1c686b[_0x8dd4('7d','xE5O')](_0x53922f,_0x3bd6ee);}else{_0x1c686b[_0x8dd4('7e','&H6U')](_0x53922f,data);}}}});}function getFollowGoods(){var _0x3da835={'oGalK':_0x8dd4('7f','5a%m'),'Eylvf':_0x8dd4('80','H(j!'),'DbIdj':function(_0x1a6324,_0x3917a7){return _0x1a6324===_0x3917a7;},'iRMWg':function(_0x8adc9e,_0x3bfd6e){return _0x8adc9e!==_0x3bfd6e;},'WxRlF':'eNUeI','PcQCP':_0x8dd4('81','wVoR'),'zViib':_0x8dd4('82','b^]@'),'oyfwe':function(_0x247ecb,_0x284798){return _0x247ecb(_0x284798);},'IQYVD':'./USER_AGENTS','ubFKD':_0x8dd4('83','3Vjs'),'mmDbd':_0x8dd4('84','zoLE'),'EKDHu':'https://wqs.jd.com/my/fav/goods_fav.shtml?ptag=37146.4.1&sceneval=2&jxsid=15963530166144677970'};return new Promise(_0x252480=>{var _0x42a87c={'GhcWa':_0x3da835['oGalK'],'WNBLx':_0x3da835[_0x8dd4('85','BMBy')],'CcuyM':function(_0x527649,_0x1daf33){return _0x3da835[_0x8dd4('86','ZL7H')](_0x527649,_0x1daf33);},'VHcJU':'cuZNk','cWBEE':function(_0x4096a3,_0x44fed0){return _0x3da835[_0x8dd4('87','3@0H')](_0x4096a3,_0x44fed0);},'uIcOV':_0x3da835[_0x8dd4('88','zoLE')],'LXWej':_0x8dd4('89','ZL7H')};const _0x2006bd={'url':JD_API_HOST+_0x8dd4('8a','wVoR')+goodPageSize+_0x8dd4('8b','xV#Z'),'headers':{'Host':_0x3da835[_0x8dd4('8c','cMIy')],'Accept':_0x3da835['zViib'],'Connection':_0x8dd4('8d','@1up'),'Cookie':cookie,'User-Agent':$[_0x8dd4('8e','Ah8y')]()?process[_0x8dd4('8f','[G5U')][_0x8dd4('90','kFbf')]?process[_0x8dd4('91','hNPy')][_0x8dd4('92','5a%m')]:_0x3da835['oyfwe'](require,_0x3da835[_0x8dd4('93','hNPy')])[_0x8dd4('94','4bGk')]:$[_0x8dd4('95','b^]@')](_0x3da835['ubFKD'])?$[_0x8dd4('96','zoLE')](_0x8dd4('97','!(5f')):'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0','Accept-Language':_0x3da835['mmDbd'],'Referer':_0x3da835[_0x8dd4('98','zIGl')],'Accept-Encoding':_0x8dd4('99','xE5O')}};$[_0x8dd4('9a','KRXT')](_0x2006bd,(_0x471de6,_0xb181b7,_0x571689)=>{if(_0x42a87c[_0x8dd4('9b','pFdR')](_0x42a87c[_0x8dd4('9c','j)KJ')],_0x42a87c['VHcJU'])){try{_0x571689=JSON[_0x8dd4('9d','cMIy')](_0x571689['slice'](0xe,-0xd));$[_0x8dd4('9e','VnZk')]=_0x571689[_0x8dd4('9f','3@0H')];}catch(_0x263fbf){$[_0x8dd4('a0','@GQ*')](_0x263fbf,_0xb181b7);}finally{if(_0x42a87c[_0x8dd4('a1','hNPy')](_0x42a87c['uIcOV'],_0x42a87c[_0x8dd4('a2','MTCD')])){_0x252480(_0x571689);}else{console[_0x8dd4('a3','3@0H')](_0x8dd4('a4','jgdO')+item[_0x8dd4('a5','MTCD')][_0x8dd4('a6','VnZk')](0x0,0x14)['concat'](_0x42a87c[_0x8dd4('a7','[G5U')])+_0x8dd4('a8','OTI3'));}}}else{try{return JSON[_0x8dd4('a9','wVoR')](str);}catch(_0xc4cccd){console[_0x8dd4('aa','pFdR')](_0xc4cccd);$['msg']($[_0x8dd4('ab','hU5&')],'',_0x42a87c['WNBLx']);return[];}}});});}function unsubscribeGoodsFun(_0xffdf65){var _0xe29e74={'pMSIt':function(_0x152edb,_0x4091a2){return _0x152edb==_0x4091a2;},'jndrj':'string','xsyZy':_0x8dd4('ac','pFdR'),'fMWwH':function(_0x18099d,_0x21e96d){return _0x18099d===_0x21e96d;},'NXeqi':'wq.jd.com','NalVh':'*/*','PNPxR':_0x8dd4('ad','jgdO'),'sMxou':function(_0x243d1f,_0x748f52){return _0x243d1f(_0x748f52);},'wLHaN':'JDUA','jMoNf':_0x8dd4('ae','3Vjs'),'VuYhQ':_0x8dd4('af','r^1V'),'CzzHW':'gzip,\x20deflate,\x20br'};return new Promise(_0x3a5190=>{var _0x559486={'PTyjz':function(_0x51013d,_0x4f3943){return _0xe29e74[_0x8dd4('b0','Ah8y')](_0x51013d,_0x4f3943);},'LEvIW':_0xe29e74['jndrj'],'rzWte':_0xe29e74[_0x8dd4('b1','MTCD')],'xExtd':function(_0x122ab7,_0x2cb5ff){return _0xe29e74[_0x8dd4('b2','$q%M')](_0x122ab7,_0x2cb5ff);},'WwhLD':_0x8dd4('b3','rfiG'),'qtFeN':function(_0x2352f7,_0x283b31){return _0x2352f7(_0x283b31);}};const _0x28b1ca={'url':JD_API_HOST+_0x8dd4('b4','Z*zX')+_0xffdf65+'&_='+Date[_0x8dd4('b5','@1up')]()+_0x8dd4('b6','^8Sy'),'headers':{'Host':_0xe29e74[_0x8dd4('b7','5a%m')],'Accept':_0xe29e74[_0x8dd4('b8','zIGl')],'Connection':_0xe29e74[_0x8dd4('b9','!(5f')],'User-Agent':$['isNode']()?process[_0x8dd4('ba','sw^J')]['JD_USER_AGENT']?process['env']['JD_USER_AGENT']:_0xe29e74[_0x8dd4('bb','KRXT')](require,'./USER_AGENTS')[_0x8dd4('bc','zzs[')]:$[_0x8dd4('bd','jD[#')](_0x8dd4('be','u#ED'))?$[_0x8dd4('bf','kFbf')](_0xe29e74['wLHaN']):_0xe29e74['jMoNf'],'Referer':_0xe29e74[_0x8dd4('c0','zzs[')],'Cookie':cookie,'Accept-Language':'zh-cn','Accept-Encoding':_0xe29e74[_0x8dd4('c1','zzs[')]}};$['get'](_0x28b1ca,(_0x341dfc,_0x3f1bf7,_0x50db0a)=>{var _0x3ca433={'QTxmP':function(_0x11b610,_0xe20cbe){return _0x559486['PTyjz'](_0x11b610,_0xe20cbe);},'BrKaR':_0x559486[_0x8dd4('c2','KRXT')],'QigDe':_0x8dd4('c3','hNPy')};if(_0x559486[_0x8dd4('c4','sw^J')]===_0x559486[_0x8dd4('c5','4bGk')]){try{_0x50db0a=JSON['parse'](_0x50db0a['slice'](0xe,-0xd)[_0x8dd4('c6','xV#Z')](',}','}'));}catch(_0x9a2dd){if(_0x559486['xExtd']('RlWLz',_0x559486['WwhLD'])){$[_0x8dd4('c7','ABEu')](_0x9a2dd,_0x3f1bf7);}else{return JSON[_0x8dd4('c8','zoLE')](str);}}finally{_0x559486[_0x8dd4('c9','jgdO')](_0x3a5190,_0x50db0a);}}else{if(_0x3ca433[_0x8dd4('ca','5a%m')](typeof str,_0x3ca433['BrKaR'])){try{return JSON[_0x8dd4('cb','@GQ*')](str);}catch(_0x95c2ea){console[_0x8dd4('cc','OTI3')](_0x95c2ea);$['msg']($[_0x8dd4('cd','r^1V')],'',_0x3ca433['QigDe']);return[];}}}});});}function unsubscribeShops(){var _0x7cc598={'gluiL':_0x8dd4('ce','pFdR'),'KwjcN':_0x8dd4('cf','jgdO'),'IQCPS':function(_0x382336,_0x4e71a2){return _0x382336!==_0x4e71a2;},'tZEXp':_0x8dd4('d0','OTI3'),'arPZq':function(_0x340fb4,_0x2a073a){return _0x340fb4!==_0x2a073a;},'QTsbz':function(_0x4a7ddd,_0x1e7c3f){return _0x4a7ddd*_0x1e7c3f;},'zAyHc':function(_0x2cdc22,_0x390ba4){return _0x2cdc22>_0x390ba4;},'vcyXc':function(_0xf88795,_0x35e98b){return _0xf88795>_0x35e98b;},'eHAMr':_0x8dd4('d1','hU5&'),'rOkNE':function(_0x5b2401,_0x310898){return _0x5b2401(_0x310898);},'lFyZa':function(_0x438b4d,_0x34ec5a){return _0x438b4d===_0x34ec5a;},'yBWeS':_0x8dd4('d2','&H6U'),'VlyBi':_0x8dd4('d3','sw^J'),'kqvoZ':'VeaBe','UIUVe':function(_0x14128f,_0x1bf5f4){return _0x14128f(_0x1bf5f4);},'FpZJM':function(_0x3e506d,_0x5d0d50){return _0x3e506d(_0x5d0d50);}};return new Promise(async _0x2417f9=>{let _0x4d31af=await getFollowShops();if(_0x4d31af['iRet']==='0'){if(_0x7cc598[_0x8dd4('d4','j)KJ')](_0x7cc598[_0x8dd4('d5','xE5O')],_0x8dd4('d6','!(5f'))){let _0xb4737d=0x0;$[_0x8dd4('d7','@GQ*')]=_0xb4737d;if(_0x7cc598[_0x8dd4('d8','@GQ*')](_0x7cc598[_0x8dd4('d9','b^]@')](shopPageSize,0x1),0x0)){if(_0x7cc598[_0x8dd4('da','V]lC')](_0x4d31af['totalNum'],0x0)){for(let _0x38ceb1 of _0x4d31af['data']){if(stopShop&&(_0x38ceb1[_0x8dd4('db','cMIy')]&&_0x7cc598[_0x8dd4('dc','ZL7H')](_0x38ceb1[_0x8dd4('dd','Ipuv')][_0x8dd4('de','$q%M')](stopShop[_0x8dd4('df','xE5O')](/\s*/g,'')),-0x1))){if(_0x7cc598['arPZq'](_0x7cc598[_0x8dd4('e0','rfiG')],'GWvIy')){console[_0x8dd4('e1','0E0@')](_0x8dd4('e2','zzs['));}else{console['log']('匹配到了您设定的店铺--'+_0x38ceb1[_0x8dd4('dd','Ipuv')]+_0x8dd4('e3','ABEu'));break;}}let _0xecccd8=await _0x7cc598[_0x8dd4('e4','r^1V')](unsubscribeShopsFun,_0x38ceb1[_0x8dd4('e5','xV#Z')]);if(_0xecccd8[_0x8dd4('e6','[G5U')]==='0'){if(_0x7cc598['lFyZa'](_0x7cc598[_0x8dd4('e7','[G5U')],_0x7cc598[_0x8dd4('e8','H(j!')])){console[_0x8dd4('e9','kFbf')]('取消已关注店铺---'+_0x38ceb1[_0x8dd4('ea','Z*zX')]+_0x8dd4('eb','zoLE'));_0xb4737d++;}else{_0x2417f9(_0xb4737d);}}else{if(_0x7cc598[_0x8dd4('ec','dZTr')]!==_0x7cc598[_0x8dd4('ed','S]JX')]){console[_0x8dd4('aa','pFdR')](_0x8dd4('ee','^8Sy')+_0x38ceb1[_0x8dd4('ef',']DQn')]+_0x8dd4('f0','!(5f'));}else{_0x2417f9(_0xb4737d);}}}$[_0x8dd4('f1','S]JX')]=_0xb4737d;_0x7cc598[_0x8dd4('f2','r^1V')](_0x2417f9,_0xb4737d);}else{_0x7cc598['UIUVe'](_0x2417f9,_0xb4737d);}}else{if(_0x7cc598[_0x8dd4('f3','pFdR')](_0x8dd4('f4','wVoR'),'KbfWr')){console[_0x8dd4('f5','wVoR')](_0x8dd4('f6','^8Sy'));_0x7cc598[_0x8dd4('f7','3@0H')](_0x2417f9,_0xb4737d);}else{data=JSON['parse'](data['slice'](0xe,-0xd));}}}else{if(data){data=JSON['parse'](data);if(data[_0x7cc598['gluiL']]===0xd){$[_0x8dd4('f8','H(j!')]=![];return;}$[_0x8dd4('f9','Ah8y')]=data[_0x7cc598[_0x8dd4('fa','VnZk')]]['nickname'];}else{console[_0x8dd4('fb','$q%M')](_0x8dd4('fc','rfiG'));}}}});}function getFollowShops(){var _0x5590d4={'nfXkF':_0x8dd4('fd','Ipuv'),'myque':'wq.jd.com','qGkKC':'*/*','niylm':function(_0x467ef6,_0x1b489d){return _0x467ef6(_0x1b489d);},'IiJke':'./USER_AGENTS','SKPFw':_0x8dd4('fe','BMBy'),'HDzcI':_0x8dd4('ff','zzs['),'GlYKR':_0x8dd4('100','!(5f'),'WkpPE':_0x8dd4('101','2Bj8'),'nPUpX':_0x8dd4('102','@E8d')};return new Promise(_0x3ca9fb=>{var _0x28802f={'WXFbn':function(_0x61cf30,_0x1b8a14){return _0x61cf30===_0x1b8a14;},'tfUyM':_0x5590d4['nfXkF'],'XiVuE':function(_0x7d02ca,_0x431c71){return _0x7d02ca(_0x431c71);}};const _0xc56911={'url':JD_API_HOST+_0x8dd4('103','rfiG')+shopPageSize+_0x8dd4('104','@GQ*'),'headers':{'Host':_0x5590d4['myque'],'Accept':_0x5590d4[_0x8dd4('105','pFdR')],'Connection':_0x8dd4('106','dZTr'),'Cookie':cookie,'User-Agent':$[_0x8dd4('107','jD[#')]()?process[_0x8dd4('108','Z*zX')][_0x8dd4('109','wVoR')]?process[_0x8dd4('10a','u#ED')]['JD_USER_AGENT']:_0x5590d4[_0x8dd4('10b','2Bj8')](require,_0x5590d4['IiJke'])[_0x8dd4('10c','@GQ*')]:$['getdata'](_0x8dd4('10d','H(j!'))?$['getdata'](_0x5590d4[_0x8dd4('10e',']DQn')]):_0x5590d4[_0x8dd4('10f','u#ED')],'Accept-Language':_0x5590d4[_0x8dd4('110','0E0@')],'Referer':_0x5590d4[_0x8dd4('111','kFbf')],'Accept-Encoding':_0x5590d4[_0x8dd4('112','VnZk')]}};$[_0x8dd4('113','ZL7H')](_0xc56911,(_0x60aa1f,_0xb5038e,_0x27ecb6)=>{try{if(_0x28802f[_0x8dd4('114','V]lC')](_0x8dd4('115','Ipuv'),_0x28802f[_0x8dd4('116','5a%m')])){$[_0x8dd4('117','H(j!')](e,_0xb5038e);}else{_0x27ecb6=JSON[_0x8dd4('118','zIGl')](_0x27ecb6[_0x8dd4('119','5a%m')](0xe,-0xd));$[_0x8dd4('11a','@1up')]=_0x27ecb6[_0x8dd4('11b','BMBy')];}}catch(_0x40edb8){$[_0x8dd4('11c','Mpo7')](_0x40edb8,_0xb5038e);}finally{_0x28802f[_0x8dd4('11d','j)KJ')](_0x3ca9fb,_0x27ecb6);}});});}function unsubscribeShopsFun(_0x57666d){var _0x23a324={'BWvCF':function(_0x1c2689,_0x348710){return _0x1c2689(_0x348710);},'VdKYr':function(_0x49176d,_0x117947){return _0x49176d!==_0x117947;},'qPdrQ':'WngBE','gSNrN':_0x8dd4('11e','j)KJ'),'RWAPl':'Lulfo','uWyxS':_0x8dd4('11f','sw^J'),'kmGoC':'keep-alive','AVqqd':_0x8dd4('120','@E8d'),'bzZGD':_0x8dd4('121','ABEu'),'hNcAn':_0x8dd4('122','pFdR'),'syWVp':_0x8dd4('123','Ah8y')};return new Promise(_0xec9efa=>{var _0x3a65f6={'Alknv':function(_0x54ab31,_0xc543f7){return _0x23a324[_0x8dd4('124','sw^J')](_0x54ab31,_0xc543f7);},'Nvasv':function(_0x4a325f,_0x4fe8dd){return _0x23a324[_0x8dd4('125','Ah8y')](_0x4a325f,_0x4fe8dd);},'gEFEA':_0x23a324['qPdrQ'],'dSPam':_0x23a324[_0x8dd4('126','@1up')],'JAvZW':function(_0x431681,_0x3d517d){return _0x431681===_0x3d517d;},'EbUjX':_0x23a324[_0x8dd4('127','xV#Z')],'URxrx':'nEXLz','ukSch':function(_0x972c20,_0x3abd72){return _0x972c20(_0x3abd72);}};const _0xa47bfd={'url':JD_API_HOST+_0x8dd4('128','0E0@')+_0x57666d+_0x8dd4('129','@E8d')+Date[_0x8dd4('12a','Ah8y')]()+_0x8dd4('12b','u#ED'),'headers':{'Host':_0x23a324['uWyxS'],'Accept':_0x8dd4('12c','[G5U'),'Connection':_0x23a324['kmGoC'],'User-Agent':$[_0x8dd4('12d','wVoR')]()?process[_0x8dd4('12e','ABEu')][_0x8dd4('12f',']DQn')]?process['env'][_0x8dd4('130','Ah8y')]:_0x23a324['BWvCF'](require,_0x23a324[_0x8dd4('131','BMBy')])[_0x8dd4('132','kFbf')]:$['getdata'](_0x8dd4('133','ZL7H'))?$['getdata']('JDUA'):_0x8dd4('134','@1up'),'Referer':_0x23a324['bzZGD'],'Cookie':cookie,'Accept-Language':_0x23a324[_0x8dd4('135','wVoR')],'Accept-Encoding':_0x23a324[_0x8dd4('136','$q%M')]}};$[_0x8dd4('137','OTI3')](_0xa47bfd,(_0x3c5640,_0x3f6bdb,_0x98c8ed)=>{var _0x217a7a={'uBINf':function(_0x44b242,_0x50c52e){return _0x3a65f6[_0x8dd4('138','S]JX')](_0x44b242,_0x50c52e);}};if(_0x3a65f6[_0x8dd4('139','MTCD')](_0x3a65f6[_0x8dd4('13a','$q%M')],_0x3a65f6[_0x8dd4('13b','j)KJ')])){try{_0x98c8ed=JSON[_0x8dd4('9d','cMIy')](_0x98c8ed[_0x8dd4('13c','Mpo7')](0xe,-0xd));}catch(_0x13289e){if(_0x3a65f6['JAvZW'](_0x3a65f6[_0x8dd4('13d','r^1V')],_0x3a65f6[_0x8dd4('13e','kFbf')])){$['logErr'](_0x13289e,_0x3f6bdb);}else{console['log']('\x0a您设置的是不取关店铺\x0a');_0x217a7a['uBINf'](_0xec9efa,count);}}finally{if(_0x3a65f6[_0x8dd4('13f','!(5f')](_0x3a65f6['URxrx'],_0x8dd4('140','xE5O'))){_0x3a65f6[_0x8dd4('141','rfiG')](_0xec9efa,_0x98c8ed);}else{$[_0x8dd4('142','[G5U')]=process[_0x8dd4('143','0E0@')][_0x8dd4('144','xE5O')]['split']('\x0a');}}}else{_0x98c8ed=JSON['parse'](_0x98c8ed['slice'](0xe,-0xd));$[_0x8dd4('45','@GQ*')]=_0x98c8ed[_0x8dd4('145','sw^J')];}});});}function TotalBean(){var _0x153538={'blTfr':function(_0x443a45,_0x295450){return _0x443a45===_0x295450;},'jANPh':_0x8dd4('146','@1up'),'kZMHV':function(_0x26483e,_0xd1618f){return _0x26483e!==_0xd1618f;},'NJxAb':'JkSCy','jjqFY':function(_0x1098df,_0x5e155c){return _0x1098df!==_0x5e155c;},'OCEjb':_0x8dd4('147','ABEu'),'ElAYm':_0x8dd4('148','Ah8y'),'SztVi':_0x8dd4('149','BMBy'),'cEXho':'application/json,text/plain,\x20*/*','BMBaY':_0x8dd4('14a','u#ED'),'gZZqf':_0x8dd4('14b','cMIy'),'MWVyw':_0x8dd4('14c','r^1V'),'ZwlyN':'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0'};return new Promise(async _0x136703=>{const _0x27313c={'url':_0x8dd4('14d','zoLE'),'headers':{'Accept':_0x153538[_0x8dd4('14e','@E8d')],'Content-Type':'application/x-www-form-urlencoded','Accept-Encoding':_0x153538[_0x8dd4('14f','xE5O')],'Accept-Language':_0x8dd4('150','H(j!'),'Connection':_0x153538[_0x8dd4('151','KRXT')],'Cookie':cookie,'Referer':'https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','User-Agent':$['isNode']()?process[_0x8dd4('152','zzs[')][_0x8dd4('153','^8Sy')]?process[_0x8dd4('154','b^]@')][_0x8dd4('155','BMBy')]:require(_0x8dd4('156','BMBy'))[_0x8dd4('157','hNPy')]:$[_0x8dd4('158','rfiG')](_0x153538['MWVyw'])?$['getdata'](_0x8dd4('159','^8Sy')):_0x153538['ZwlyN']}};$[_0x8dd4('15a','ZL7H')](_0x27313c,(_0x2b384e,_0x1d82fb,_0x37b7f5)=>{var _0x328327={'ELNGl':function(_0x320477,_0x4b3fc9){return _0x153538[_0x8dd4('15b','&H6U')](_0x320477,_0x4b3fc9);},'HcdsG':_0x153538[_0x8dd4('15c','H(j!')]};try{if(_0x2b384e){if(_0x153538['kZMHV']('JkSCy',_0x153538[_0x8dd4('15d','cMIy')])){$[_0x8dd4('15e','2Bj8')]();}else{console[_0x8dd4('15f','u#ED')](''+JSON['stringify'](_0x2b384e));console['log']($['name']+'\x20API请求失败，请检查网路重试');}}else{if(_0x37b7f5){if(_0x153538['jjqFY'](_0x153538[_0x8dd4('160','H(j!')],_0x153538[_0x8dd4('161','sw^J')])){if(!jdNotify||_0x328327[_0x8dd4('162','sw^J')](jdNotify,_0x328327['HcdsG'])){$[_0x8dd4('163','5a%m')]($['name'],'',_0x8dd4('164','u#ED')+$[_0x8dd4('165','jgdO')]+'】'+$['nickName']+_0x8dd4('166','Ah8y')+$[_0x8dd4('167','zoLE')]+_0x8dd4('168','r^1V')+$[_0x8dd4('169','5a%m')]+_0x8dd4('16a','S]JX')+$[_0x8dd4('16b','$q%M')]+_0x8dd4('3d','S]JX')+$[_0x8dd4('16c','OTI3')]+'个\x0a');}else{$['log'](_0x8dd4('16d','5a%m')+$[_0x8dd4('165','jgdO')]+'】'+$[_0x8dd4('16e','Ipuv')]+'\x0a【已取消关注店铺】'+$['unsubscribeShopsCount']+_0x8dd4('16f','wVoR')+$[_0x8dd4('170','VnZk')]+_0x8dd4('171','j)KJ')+$[_0x8dd4('172','BMBy')]+_0x8dd4('173','dZTr')+$['goodsTotalNum']+'个\x0a');}}else{_0x37b7f5=JSON['parse'](_0x37b7f5);if(_0x37b7f5[_0x8dd4('174','KRXT')]===0xd){if(_0x153538['jjqFY'](_0x153538[_0x8dd4('175',']DQn')],_0x153538['ElAYm'])){_0x37b7f5=JSON[_0x8dd4('176','2Bj8')](_0x37b7f5[_0x8dd4('177','BMBy')](0xe,-0xd));$[_0x8dd4('178','zzs[')]=_0x37b7f5[_0x8dd4('179','@GQ*')];}else{$[_0x8dd4('17a','zzs[')]=![];return;}}$[_0x8dd4('17b','4bGk')]=_0x37b7f5[_0x153538[_0x8dd4('17c','hU5&')]][_0x8dd4('17d','zIGl')];}}else{console[_0x8dd4('17e','MTCD')](_0x8dd4('17f','hNPy'));}}}catch(_0x1c921f){$[_0x8dd4('180','0E0@')](_0x1c921f,_0x1d82fb);}finally{_0x136703();}});});}function requireConfig(){var _0x279c9b={'LMrgw':function(_0x14f60a){return _0x14f60a();},'fCuMd':_0x8dd4('181','KRXT'),'rzVQJ':function(_0x4d748d,_0x24324b){return _0x4d748d!==_0x24324b;},'HtlDc':'tsYfA','tweGg':function(_0x4e7f63,_0x8330e2){return _0x4e7f63>_0x8330e2;},'hrUvM':'ZZUhl','EHMAK':function(_0x2a2334){return _0x2a2334();}};return new Promise(_0x54bdc3=>{var _0x1aea73={'roqwM':function(_0x38f1e6){return _0x279c9b[_0x8dd4('182','3Vjs')](_0x38f1e6);}};if($['isNode']()&&process['env']['UN_SUBSCRIBES']){if(_0x279c9b[_0x8dd4('183','rfiG')]===_0x279c9b[_0x8dd4('184','Mpo7')]){if(process[_0x8dd4('185','ZL7H')][_0x8dd4('144','xE5O')][_0x8dd4('186','u#ED')]('&')>-0x1){if(_0x279c9b['rzVQJ'](_0x279c9b[_0x8dd4('187','Mpo7')],_0x279c9b[_0x8dd4('188','3@0H')])){data=JSON['parse'](data[_0x8dd4('177','BMBy')](0xe,-0xd)['replace'](',}','}'));}else{$['UN_SUBSCRIBES']=process['env'][_0x8dd4('144','xE5O')]['split']('&');}}else if(_0x279c9b[_0x8dd4('189','cMIy')](process['env'][_0x8dd4('18a','Mpo7')][_0x8dd4('de','$q%M')]('\x0a'),-0x1)){$[_0x8dd4('18b','2Bj8')]=process['env'][_0x8dd4('18c','OTI3')][_0x8dd4('18d','V]lC')]('\x0a');}else if(process[_0x8dd4('18e','^8Sy')][_0x8dd4('18f','wVoR')][_0x8dd4('190','pFdR')]('\x5cn')>-0x1){$[_0x8dd4('191','H(j!')]=process[_0x8dd4('192',']DQn')]['UN_SUBSCRIBES'][_0x8dd4('193','3@0H')]('\x5cn');}else{if(_0x279c9b[_0x8dd4('194','^8Sy')]==='IEJMm'){_0x54bdc3(data);}else{$['UN_SUBSCRIBES']=process['env'][_0x8dd4('18f','wVoR')]['split']();}}console[_0x8dd4('195','H(j!')]('您secret设置的取关参数:\x0a'+JSON[_0x8dd4('196','ABEu')]($['UN_SUBSCRIBES']));goodPageSize=$[_0x8dd4('18c','OTI3')][0x0]||goodPageSize;shopPageSize=$['UN_SUBSCRIBES'][0x1]||shopPageSize;stopGoods=$[_0x8dd4('18c','OTI3')][0x2]||stopGoods;stopShop=$[_0x8dd4('197','zIGl')][0x3]||stopShop;}else{_0x1aea73[_0x8dd4('198','2Bj8')](_0x54bdc3);}}_0x279c9b['EHMAK'](_0x54bdc3);});}function jsonParse(_0x390fee){var _0x347d89={'OsGAR':function(_0x3c83dc,_0x16485e){return _0x3c83dc==_0x16485e;},'OwRkh':_0x8dd4('199','Mpo7'),'AqVDF':_0x8dd4('19a','jD[#')};if(_0x347d89[_0x8dd4('19b','BMBy')](typeof _0x390fee,_0x347d89[_0x8dd4('19c','3@0H')])){try{return JSON[_0x8dd4('19d','hNPy')](_0x390fee);}catch(_0x37ac10){console['log'](_0x37ac10);$['msg']($[_0x8dd4('19e','sw^J')],'',_0x347d89['AqVDF']);return[];}}};_0xodQ='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,o)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=e&&e.timeout?e.timeout:o;const[r,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),o=JSON.stringify(this.data);s?this.fs.writeFileSync(t,o):i?this.fs.writeFileSync(e,o):this.fs.writeFileSync(t,o)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=t;for(const t of i)if(o=Object(o)[t],void 0===o)return s;return o}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),o=s?this.getval(s):"";if(o)try{const t=JSON.parse(o);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),h=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,o,t),s=this.setval(JSON.stringify(e),i)}catch(e){const r={};this.lodash_set(r,o,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)}):this.isQuanX()?$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t)):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t)))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t))}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",o){const r=t=>{if(!t||!this.isLoon()&&this.isSurge())return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,r(o)):this.isQuanX()&&$notify(e,s,i,r(o)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
