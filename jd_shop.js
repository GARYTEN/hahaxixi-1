
const $ = new Env('进店领豆');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '';
if ($.isNode()) {
  Object.keys(jdCookieNode).forEach((item) => {
    cookiesArr.push(jdCookieNode[item])
  })
  if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
  let cookiesData = $.getdata('CookiesJD') || "[]";
  cookiesData = jsonParse(cookiesData);
  cookiesArr = cookiesData.map(item => item.cookie);
  cookiesArr.reverse();
  cookiesArr.push(...[$.getdata('CookieJD2'), $.getdata('CookieJD')]);
  cookiesArr.reverse();
  cookiesArr = cookiesArr.filter(item => item !== "" && item !== null && item !== undefined);
}
let message = '', subTitle = '';
var _0xodP='jsjiami.com.v6',_0x42ea=[_0xodP,'WsOsw7hJ','PhrCgDE=','EXHCqMO4Oksxwr0=','w6hZADPDrQ==','w4cXwok=','XWTCmwk=','LTofbllxwpQswo3DuMOrbcOE','w5jCtV8=','wpt2w5nCpQ==','5LqS5Lq+6LSz5Y6gwrE=','AmrClSk=','wpxxw5fClcKC','w5NmNTDDrw==','w5/DksOK','CX/CvMOWBFA=','EXHCqMO4JVYjwr3DssO4','wrhKw4A9wpI=','a8Olw5hDw6Q=','w4PDnMOfwqXDuA==','VcOsw7s=','L3TClMOmw7EYOsKj','woF2w4fCq8KsEQ==','woHClWxHwoE=','XcKjwpzDvDbChA==','w6c0D8O0','ARxN','BcOCKcKfw77DkybDkHEjUg==','w6cxwr3Dijw=','FQvCpDvDlw==','QG7CgBA/','RkfCoBYC','WcKDwp8=','C3HCtsO2','OcORUB1Z','CeaKh+WIl+mjjeWOng==','wrkvQAR8JA==','HErCsgtV','fMKgbcKBfg==','ecKKcsKaVQ==','GsOfwq1MK30WFHnCg8KNwqXDuA==','w5/Colk1w6hKY8O4PcOjwpFxIcKEccOPZXFxw7wbI8O6HcK8WcOaw4zDocOWDsObDsOGD39vw5PCnMOVdSYaLMK2bMOnUcOvw5IPVxJwPn/DqXnCqcKAwo4wYhnDgMOuw4s9w73Dky3Drw/DmcOpwrRS','FXHDixjDkQPDpMO3TXVoRMKwasKWQAzCmsKKc0k/wo7DocOewqvDsMKfwqDDlcKWwpEk','Sm8S','wqpsw61nDwoBwqzClMOXE8OqX8OAaQ==','w6w9w4bDssKh','wqrCrxROw7o=','EHPCrcO9w4w=','w4MvLsO4Hg==','w7IsdmzCtQ==','AyFSdsKR','wqrCoAlfw5k=','w4LCoyDCuDs=','XMKWw5LDsMKv','Z8OowpzCj8K7QMOVwrDCgg==','csKowpk=','w63DhSxEw7Nuw7Ugw5HCoMO6LkI=','fmImw75S','G8KhwqtqFQjDisOhw6du','wqoMwp9C','X8KqwqBGNA==','KhTChyQ=','w7JBJwDDhQ==','w7nCqFQWw6s=','X8OJFmbChg==','wplkYw==','FMOTOsKYw5PDmzrDmHw=','wqZzwog=','w5VWw6TCieiskuawt+Wmlui0se+/u+iuneahgOaej+e8oui1nOmHm+issg==','TsO1UgHDvw==','PMORXhNL','bei9vOW7n+mht+izu8KGc8O/VVDmno3or6voroDmsr/lpJ7ot6PDoOKBme+6gOKCj++4pw==','wphsw7QLwrHDvg==','O8OZwoPCnMKv','WsONezI=','wro6QB53','JWdnJwQ=','w6g6w4vDmsKd','Cz5eZMKc','esKHYcK/Ug==','AMObwrkxwrE=','K3TClcO+w50=','C8OILw==','IMKTwoNd','F3XCr8OwGUYn','wrzovKzlu5bpo4PosLxeJRI0wq7mnpHorojorK3msoflpYLotrzCouKAm++5vOKAqO+4oQ==','a8OHdg3Dpw==','e2bCvS3Crg==','d3Q5VllRwrkCwrjDqcOMScOk','PkXDrjU=','YsOnw6FlJX1qU1LDssKEw7c=','YsOnw7gnITBhQxXDvsKFwrXDumwMwqc4w6/DrsKFfMKKcMOow6tnw4RvPm4hL8Ko','Pjd7c8K2','CGbCrRJQ','BTtheSo=','w7JLGxrDiw==','RcKpwoLDggg=','AcOswrvCvcKU','QcKqw6zDscKM','w4HClmgDw6w=','MlPCscOOw70=','DwEYdEs=','BcO3wrorwopzGiDCuT5Nwr5kDz4yw5IXw6zDtmTDjcKew6d/eUJ+K8O3wq4=','Y1fCtyci','w4XCgzMsFANsNR0=','QGrCkThJwocZwrfDjQ==','dcOEBA==','wr9Tw6vClcK2MMO1S8K2LcOFJCc=','Y8KGwrDDgizCpVJQXMOcworCjcKh','EsOtMMK+w5E=','TMK6dydQw47CvGnDtsOQ','ZMOyw7wvKSdh','w7zCsxQE','WcOHYTPDsEzDjw==','F8OIO8KF','G8O7XglQ','B8K0wq99Aw==','w4XDmcO1wq/DlA==','wphsw7Q=','w44yw73ChUk=','woDCjcKhWC5S','WMKfwp8=','IDTCuxnDqQ==','PmFZGCE=','wrl4wo8=','wodrw7w+wo3DrS4x','woLltqbmibblipPDm+S6ueiyszI=','cMOJcRLDgQ==','NhTCkxXDscOE','RMKRwopsCw==','w7jDucOHwqfDrA==','Gj54fsKVYD4=','wppqw7Alwo3DrS4x','wq8QeCNY','V8Oqw79Hw7vDsllk','5LiO5LmI5p6E5YiC5ZqB6L+B5Zir56mC5paw5oyC','D8O3woYqwoY=','w63DrTBEw7M=','QMOqw5l+w7g=','e1PCnS/CsQ==','w5kUwpzDqAI=','wodyw4DCo8KKEcOC','IMO5wpzCk8K7R8KJwqjCjwLDuh9Nw4HDo8KWSiA9XnJ9KcO4JjtVw6/DmMOKw7vDqg==','DMOCLcKBwpDDnT/Dl3N8','XcKCwrrDrw==','wpp0w54gwrs=','Xmk6w5pO','BnxDCwI=','w58vw4zCp1cWwpHCocK/wr1Vw7lBwoDDrXjDlEN8w6hXKALCvXYrPh7CnQ9SP2xcw73ChMKSw43DtsK1UcKdwqrCg8OQXcO9wp5XwoBKScO5cQ==','XcKRwp/DtMOD','wp8xcR9V','TsK4wobDp1PDgGRqe8O3wq7Ct8KQBHZgLg==','QcKXwojDmy4=','w50bQ1XCkg==','X8KsworDkxU=','wq81RA==','GsO7ay1yY0NoOlTDqsOIw4g=','NsORwpEawqFbMgvCvg4=','RGjCnS4s','AnXCr8O3F1Yj','c0HCuik=','woxVw5J0Mw==','w6IVw7LCmF4=','wqFzwoPDthU=','wpliw5XCucKD','cmzCmjIV','CX/CvA==','ecKnwoLDiw==','NT5LSxU=','cMKafhpow6bClQ==','C3nCuMO4OEMvwqw=','wpBkw57CkcKq','SGkWw5hLw5jDljw=','dcKGVTB9w70=','w54IGsOiNw==','fsK1wqPDgcONccO7','S+i9kuW5u+mhueiylB7DiMKdwrYk5p2x6K+S6K+Q5rOw5aa96LedRuKBqO+5l+KAmu+4iQ==','asKdQBxhw6g=','MnPDtw7DgQ==','6K6u5Yqk6Zuj5oSK5Zy0QcKJO8K1w5/ovJHlhbjmo7Hkvq3mlqDlhLjlroV05bmL6K2G6YKk6L+C6IeK5pyR5Yy66IyE5Y+Ewo7CpxETwrMI','BEvDsh/DoQ==','D1vClcOcw5A=','Z8KRw6rDs8K+','wph4Yw==','wpzCknVu','G8OmwrnClsKn','woLCkmp4woc=','wpfCnW4=','JcOpwr/CsMKlwpY=','B3XDiR3DlgfDrMOlXQ==','UcKewo4=','U8OCw5wADQo=','w61NFyzDhcOjNQ==','Oz5ZNS41wod7w5LCnMK6eMKCbsKtwo1ZTcKcw5HChjTDoRDCssKHJcOdwqxHHMOtCysnwprDi0xywp7Dj8KPMDQxwrrDscO0Z3xEwoAzdXgtwrPCu33CsnEKwqfCj8OjBgQiQMKtw6zDiMOEPsOFw6nCrMOnwpJhw6DDizDDvMKhIhHCkMKOwqpWPX1IwpJCN2I+w7pFwq/DqTAWwrrCqHQ9w4xhVAjCkAk=','BsO6wr08','MS8YdW85w4lswp7DnMOrM8OabcOzw5kSHcOewoXCkWbCvFTDpMOdZsODwqkdDMKzAiM=','Hm7Cqg1I','wog8wr5zw6fDksOTwr8vPcKUwrrDgsKvScO+woTChMKPSCVjw6PDksOWISLCk8OUwpzDhQ3CuMOoA8O5w70dw7HCkTINYg==','w7o2w4DDtsKf','Lw7CpjjDiQ==','wpTCh8KNWDQ=','w4nDoB50','Xk/CrizCtQ==','CmTChg==','HSxZdA==','STDlp6rotrZXAuWPneWYqcK9wqs=','EkLCjAxr','RcKnwoHDsAvCiA==','wqFww7Y8wo3DrS4x','U1odw5lD','WcKRwox8Bg==','KMOnwojCmsKq','TMOTw4tew5A=','V2zCjAPCrSp+Dw==','wonCiwA=','HeW/huWkpOOCvuS4huS4hOi2s+WMtw==','ecKvwozDhcOkecO4wqU=','QsK1worDnMOkecO4wqU=','w5UefXXClHVe','NcOSdRtx','G8OdwobCng==','w6/Cni3ClhQ=','NBLClzvDjcOXw6XDkw==','OABPUSh1Uw0=','beitkOmGheaVgeebhuW/qeiPpOWNqA9xHH0Hwo4Vw6nDrwfDqsOSRsKyw6rDjwYZUsK4wqvCk8Klw7rCrMOQT8O5w7JoFEfDlcOHw6vCqsKXwrfDksOrwqjCtlXCsw==','AUHCoAx2','w5Uef3XCl3k=','YMKNwoDDpjI=','f2nCvRQq','Kj4CYVJswpIqwpnDlQ==','wpZ4w5vCq8KMEOW1leWkpeaWv0rCrUo=','bHbCihrCrSp+Dw==','TMKaVwdBw67Clkk=','w5PDoAB6w6VZw5UQw6LCs8OWEGU=','KV1x','QMKswovDsgc=','w4fDnMOewr3DmFfDkiICwrktPQs=','woF/URBH','wq1iw41lFA==','wpl4w5M=','R8KjwoLDsg==','w4nDhOWllui0jcKVwpPlj6TlmZkiZw==','JcOmwoLCmg==','6KyF5YiM6ZqX5oSE5Z+KwoLCoSXCscKY6L285Ya65qGy5L2E5pak5YW05aybwoXluIvorITpg6LovJvohZTmnZjljZzojb7ljLoFPMKVJsORw58=','w4rClwXClig=','NcOwYRpM','dmofw6ly','w50yOMO2Mg==','jqbdrPsjiaRwmOCuyi.cozmkqP.v6=='];(function(_0x2eda85,_0x4d6e71,_0x261a87){var _0x34e43d=function(_0xdd6a0f,_0x4009bc,_0x3ef271,_0x4ae5e7,_0x44f2b6){_0x4009bc=_0x4009bc>>0x8,_0x44f2b6='po';var _0x27a96f='shift',_0x426391='push';if(_0x4009bc<_0xdd6a0f){while(--_0xdd6a0f){_0x4ae5e7=_0x2eda85[_0x27a96f]();if(_0x4009bc===_0xdd6a0f){_0x4009bc=_0x4ae5e7;_0x3ef271=_0x2eda85[_0x44f2b6+'p']();}else if(_0x4009bc&&_0x3ef271['replace'](/[qbdrPRwOCuyzkqP=]/g,'')===_0x4009bc){_0x2eda85[_0x426391](_0x4ae5e7);}}_0x2eda85[_0x426391](_0x2eda85[_0x27a96f]());}return 0x79aef;};return _0x34e43d(++_0x4d6e71,_0x261a87)>>_0x4d6e71^_0x261a87;}(_0x42ea,0xba,0xba00));var _0x20e7=function(_0x5ca139,_0x1c5aa6){_0x5ca139=~~'0x'['concat'](_0x5ca139);var _0x3db76f=_0x42ea[_0x5ca139];if(_0x20e7['lkuIBT']===undefined){(function(){var _0x4bceaa=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x31cffc='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4bceaa['atob']||(_0x4bceaa['atob']=function(_0x2724a9){var _0x63a32f=String(_0x2724a9)['replace'](/=+$/,'');for(var _0x150163=0x0,_0x46c472,_0xf36ba1,_0x2b8c76=0x0,_0x1dd95e='';_0xf36ba1=_0x63a32f['charAt'](_0x2b8c76++);~_0xf36ba1&&(_0x46c472=_0x150163%0x4?_0x46c472*0x40+_0xf36ba1:_0xf36ba1,_0x150163++%0x4)?_0x1dd95e+=String['fromCharCode'](0xff&_0x46c472>>(-0x2*_0x150163&0x6)):0x0){_0xf36ba1=_0x31cffc['indexOf'](_0xf36ba1);}return _0x1dd95e;});}());var _0x509169=function(_0x22ba0a,_0x1c5aa6){var _0x15fdee=[],_0x5e2cfd=0x0,_0x23b296,_0x5e3dd7='',_0x2333ff='';_0x22ba0a=atob(_0x22ba0a);for(var _0x136020=0x0,_0x313668=_0x22ba0a['length'];_0x136020<_0x313668;_0x136020++){_0x2333ff+='%'+('00'+_0x22ba0a['charCodeAt'](_0x136020)['toString'](0x10))['slice'](-0x2);}_0x22ba0a=decodeURIComponent(_0x2333ff);for(var _0x199a9d=0x0;_0x199a9d<0x100;_0x199a9d++){_0x15fdee[_0x199a9d]=_0x199a9d;}for(_0x199a9d=0x0;_0x199a9d<0x100;_0x199a9d++){_0x5e2cfd=(_0x5e2cfd+_0x15fdee[_0x199a9d]+_0x1c5aa6['charCodeAt'](_0x199a9d%_0x1c5aa6['length']))%0x100;_0x23b296=_0x15fdee[_0x199a9d];_0x15fdee[_0x199a9d]=_0x15fdee[_0x5e2cfd];_0x15fdee[_0x5e2cfd]=_0x23b296;}_0x199a9d=0x0;_0x5e2cfd=0x0;for(var _0x51f1ba=0x0;_0x51f1ba<_0x22ba0a['length'];_0x51f1ba++){_0x199a9d=(_0x199a9d+0x1)%0x100;_0x5e2cfd=(_0x5e2cfd+_0x15fdee[_0x199a9d])%0x100;_0x23b296=_0x15fdee[_0x199a9d];_0x15fdee[_0x199a9d]=_0x15fdee[_0x5e2cfd];_0x15fdee[_0x5e2cfd]=_0x23b296;_0x5e3dd7+=String['fromCharCode'](_0x22ba0a['charCodeAt'](_0x51f1ba)^_0x15fdee[(_0x15fdee[_0x199a9d]+_0x15fdee[_0x5e2cfd])%0x100]);}return _0x5e3dd7;};_0x20e7['cmJiHV']=_0x509169;_0x20e7['JYmVgn']={};_0x20e7['lkuIBT']=!![];}var _0x2d6f3c=_0x20e7['JYmVgn'][_0x5ca139];if(_0x2d6f3c===undefined){if(_0x20e7['mVLmGF']===undefined){_0x20e7['mVLmGF']=!![];}_0x3db76f=_0x20e7['cmJiHV'](_0x3db76f,_0x1c5aa6);_0x20e7['JYmVgn'][_0x5ca139]=_0x3db76f;}else{_0x3db76f=_0x2d6f3c;}return _0x3db76f;};const tok=undefined!=process['env']&&undefined!=process[_0x20e7('0',']atD')][_0x20e7('1',']eNZ')]&&JSON[_0x20e7('2','fi!w')](process[_0x20e7('3','[0iy')][_0x20e7('4','gWiJ')])[_0x20e7('5','fIc(')](_0x20e7('6','kMcc'))>-0x1?!![]:![];if(!tok){process[_0x20e7('7','%kcd')](0x0);}const JD_API_HOST=_0x20e7('8','kMcc');!(async()=>{var _0x111947={'uuRhJ':function(_0x3384e0,_0xd992a1){return _0x3384e0===_0xd992a1;},'pDfRJ':_0x20e7('9','XxPQ'),'gJADV':_0x20e7('a','^qif'),'tImDK':function(_0x22f0f9,_0x2679af){return _0x22f0f9<_0x2679af;},'uZhjf':function(_0x36c6c6,_0x1a07d3){return _0x36c6c6(_0x1a07d3);},'uPWrE':function(_0x5be145,_0x344c1a){return _0x5be145+_0x344c1a;},'ttUEr':function(_0x112534){return _0x112534();},'vcPgB':function(_0x436d96,_0x84a8b8){return _0x436d96!==_0x84a8b8;},'emAcP':_0x20e7('b','0Tdw'),'IOoqM':'KXnfc'};if(!cookiesArr[0x0]){if(_0x111947[_0x20e7('c','5Juw')](_0x20e7('d','yS76'),_0x111947['pDfRJ'])){$['msg']($[_0x20e7('e','v6r4')],'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x111947[_0x20e7('f','4)[4')]});return;}else{$[_0x20e7('10','XxPQ')]('','❌\x20'+$[_0x20e7('11','EljB')]+_0x20e7('12','!EDi')+e+'!','');}}for(let _0x1486ef=0x0;_0x111947[_0x20e7('13','XxPQ')](_0x1486ef,cookiesArr[_0x20e7('14','On^4')]);_0x1486ef++){if(cookiesArr[_0x1486ef]){cookie=cookiesArr[_0x1486ef];$[_0x20e7('15','93i%')]=_0x111947[_0x20e7('16','HTQu')](decodeURIComponent,cookie[_0x20e7('17','[0iy')](/pt_pin=(.+?);/)&&cookie['match'](/pt_pin=(.+?);/)[0x1]);$[_0x20e7('18','VZAS')]=_0x111947[_0x20e7('19','%tX8')](_0x1486ef,0x1);$['isLogin']=!![];$[_0x20e7('1a','4)[4')]='';await _0x111947['ttUEr'](TotalBean);console[_0x20e7('1b','rMtB')](_0x20e7('1c','rrjS')+$['index']+'】'+($[_0x20e7('1d','rrjS')]||$[_0x20e7('1e','rrjS')])+'\x0a');if(!$[_0x20e7('1f','LtY2')]){if(_0x111947['vcPgB']('XbIUv',_0x111947[_0x20e7('20','1bcx')])){$['logErr'](e,resp);}else{$['msg']($[_0x20e7('21',']eNZ')],'【提示】cookie已失效','京东账号'+$[_0x20e7('22','ws^7')]+'\x20'+($[_0x20e7('23','5Juw')]||$[_0x20e7('24','gyH4')])+_0x20e7('25','@Cp4'),{'open-url':_0x111947[_0x20e7('26','XxPQ')]});if($[_0x20e7('27','LtY2')]()){if(_0x111947['uuRhJ'](_0x111947[_0x20e7('28','On^4')],_0x111947[_0x20e7('29','8x27')])){await notify[_0x20e7('2a','kMcc')]($['name']+_0x20e7('2b','*9$K')+$[_0x20e7('2c','4)[4')],'京东账号'+$['index']+'\x20'+$[_0x20e7('2d','0hd#')]+'\x0a请重新登录获取cookie');}else{console['log'](taskData['data'][_0x20e7('2e','v6r4')]+'\x0a');$[_0x20e7('2f','yN6S')]($['name'],'','京东账号\x20'+$[_0x20e7('30','On^4')]+'\x20'+$[_0x20e7('1d','rrjS')]+'\x0a'+taskData['data'][_0x20e7('31','Pj*Q')]);}}continue;}}message='';subTitle='';await _0x111947[_0x20e7('32','bA3!')](jdShop);}}})()[_0x20e7('33','#0Y@')](_0x2ead1b=>{$[_0x20e7('34','*9$K')]('','❌\x20'+$[_0x20e7('35','On^4')]+_0x20e7('36','rMtB')+_0x2ead1b+'!','');})['finally'](()=>{$[_0x20e7('37','VZAS')]();});async function jdShop(){var _0x5ecbe7={'XrLqV':_0x20e7('38',']atD'),'YiSgn':function(_0x53099f){return _0x53099f();},'LISsQ':function(_0x360350,_0x35c134){return _0x360350===_0x35c134;},'lzszP':function(_0x4b334b,_0x3e5709){return _0x4b334b!==_0x3e5709;},'hbloi':_0x20e7('39','ws^7'),'WEFyR':'ifcUg','VhZHl':_0x20e7('3a','1bcx'),'RfDoq':_0x20e7('3b','HTQu'),'sftLc':function(_0xd84bdb,_0x73112b){return _0xd84bdb(_0x73112b);},'vHRuX':'LkdXp'};const _0xa2ffcd=await _0x5ecbe7[_0x20e7('3c','5XoP')](getTask);if(_0x5ecbe7['LISsQ'](_0xa2ffcd[_0x20e7('3d','%tX8')],'0')){if(!_0xa2ffcd[_0x20e7('3e','5Juw')][_0x20e7('3f','!EDi')]){if(_0x5ecbe7[_0x20e7('40','fIc(')]('LgLeD',_0x5ecbe7['hbloi'])){$['logErr'](e,resp);}else{console[_0x20e7('41','X8@W')](_0xa2ffcd[_0x20e7('42','4)[4')][_0x20e7('43','kMcc')]+'\x0a');$[_0x20e7('44','RoC1')]($[_0x20e7('45','*9$K')],'',_0x20e7('46','%r&j')+$['index']+'\x20'+$['nickName']+'\x0a'+_0xa2ffcd[_0x20e7('47','XxPQ')]['taskErrorTips']);}}else{if(_0x20e7('48','*9$K')!==_0x5ecbe7[_0x20e7('49','fIc(')]){console[_0x20e7('4a','Pj*Q')]('\x0a进店领豆:\x20API查询请求失败\x20‼️‼️');$[_0x20e7('4b','!EDi')](err);}else{const {taskList}=_0xa2ffcd['data'];let _0x31499e=0x0;for(let _0x32fdf1 of taskList){if(_0x32fdf1[_0x20e7('4c','!EDi')]===0x3){console['log'](_0x32fdf1['shopName']+'\x20已拿到2京豆\x0a');}else{if(_0x5ecbe7[_0x20e7('4d','93i%')](_0x5ecbe7['VhZHl'],_0x5ecbe7[_0x20e7('4e','%tX8')])){try{return JSON[_0x20e7('4f','Pj*Q')](str);}catch(_0x6b7e2){console['log'](_0x6b7e2);$['msg']($['name'],'',_0x5ecbe7['XrLqV']);return[];}}else{console[_0x20e7('50','%tX8')](_0x20e7('51','y84w')+_0x32fdf1[_0x20e7('52','*9$K')]);const _0x1f1fbd=await _0x5ecbe7[_0x20e7('53',']atD')](doTask,_0x32fdf1[_0x20e7('54','On^4')]);if(_0x1f1fbd[_0x20e7('55','5XoP')]==='0'){_0x31499e+=0x2;}}}}console[_0x20e7('56','gyH4')](_0x20e7('57','@Cp4')+_0x31499e);if(_0x31499e>0x0){if(_0x5ecbe7[_0x20e7('58','X8@W')](_0x20e7('59','5Juw'),_0x5ecbe7[_0x20e7('5a','8x27')])){data=JSON[_0x20e7('5b','8x27')](data);}else{$[_0x20e7('5c','[0iy')]($[_0x20e7('5d','!EDi')],'','京东账号\x20'+$[_0x20e7('5e','1bcx')]+'\x20'+$['nickName']+_0x20e7('5f','gWiJ')+_0x31499e+'京豆');}}}}}}function doTask(_0x42de71){var _0x2d6203={'NiOQH':_0x20e7('60','NpC['),'OKsfN':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','KfJpt':function(_0x35df82,_0x1604a1){return _0x35df82(_0x1604a1);},'OFVEN':'IwLCn','GtEiB':_0x20e7('61','XxPQ'),'NAGvF':_0x20e7('62','zwfd'),'plfgc':'ohkKH','ODnwm':'ILDmK','DSiKW':_0x20e7('63','zwfd'),'IuvYo':function(_0x347a47,_0x22690e){return _0x347a47(_0x22690e);},'XbSMw':_0x20e7('64','[0iy'),'kZXYZ':_0x20e7('65','RoC1'),'jyUKt':_0x20e7('66','fi!w')};console[_0x20e7('67','HTQu')](_0x20e7('68','#0Y@')+_0x42de71);return new Promise(_0x3331ae=>{var _0x48ee68={'RdIdk':function(_0x14f129,_0x934d){return _0x14f129==_0x934d;},'cYmyO':_0x2d6203[_0x20e7('69','0Tdw')],'mChTU':_0x2d6203[_0x20e7('6a','rMtB')],'vbTIx':function(_0x4564ff,_0x4d8fee){return _0x2d6203[_0x20e7('6b','y84w')](_0x4564ff,_0x4d8fee);},'Ocdij':_0x2d6203['OFVEN'],'APDGo':function(_0x27d7fb,_0x5ab43b){return _0x27d7fb===_0x5ab43b;},'RvjbE':_0x2d6203[_0x20e7('6c','5XoP')],'pWGVn':_0x2d6203[_0x20e7('6d','LtY2')],'NehgO':function(_0x259982,_0x64c3a4){return _0x259982!==_0x64c3a4;},'ULgjm':_0x2d6203[_0x20e7('6e','EljB')],'vOvzj':_0x2d6203[_0x20e7('6f','rMtB')],'JnByt':_0x2d6203[_0x20e7('70','ws^7')],'xsjun':function(_0x27014d,_0x3cc486){return _0x2d6203[_0x20e7('71','[Ix1')](_0x27014d,_0x3cc486);}};const _0x58980a={'taskId':''+_0x42de71};const _0x6e576b={'url':''+JD_API_HOST,'body':'functionId=takeTask&body='+escape(JSON['stringify'](_0x58980a))+_0x20e7('72','VZAS'),'headers':{'User-Agent':$[_0x20e7('27','LtY2')]()?process[_0x20e7('73','rrjS')][_0x20e7('74','v6r4')]?process['env']['JD_USER_AGENT']:_0x2d6203['IuvYo'](require,_0x2d6203[_0x20e7('75','HTQu')])[_0x20e7('76','Z]7d')]:$['getdata']('JDUA')?$['getdata'](_0x20e7('77','^qif')):_0x2d6203[_0x20e7('78','[0iy')],'Host':'api.m.jd.com','Content-Type':_0x2d6203['jyUKt'],'Cookie':cookie}};$[_0x20e7('79','5Juw')](_0x6e576b,(_0x3d331b,_0x10ea7e,_0x1fb26c)=>{var _0x21a563={'lnjkj':function(_0x10bcff,_0x4d9404){return _0x48ee68[_0x20e7('7a','fIc(')](_0x10bcff,_0x4d9404);}};if(_0x20e7('7b','RoC1')===_0x48ee68[_0x20e7('7c','@2b5')]){console[_0x20e7('7d','bA3!')](''+JSON[_0x20e7('7e','@Cp4')](_0x3d331b));console[_0x20e7('7f','sa#U')]($['name']+_0x20e7('80','*9$K'));}else{try{if(_0x48ee68['APDGo'](_0x48ee68['RvjbE'],_0x48ee68[_0x20e7('81','%r&j')])){_0x21a563[_0x20e7('82','1bcx')](_0x3331ae,_0x1fb26c);}else{if(_0x3d331b){console['log'](_0x20e7('83','@Cp4'));$[_0x20e7('84','93i%')](_0x3d331b);}else{if(_0x48ee68[_0x20e7('85',']eNZ')](_0x48ee68['ULgjm'],_0x48ee68['ULgjm'])){$[_0x20e7('86','%r&j')]();}else{_0x1fb26c=JSON[_0x20e7('87','NpC[')](_0x1fb26c);}}}}catch(_0x230345){if(_0x48ee68['NehgO'](_0x20e7('88','yN6S'),_0x48ee68['vOvzj'])){$['logErr'](_0x230345,_0x10ea7e);}else{$['logErr'](_0x230345,_0x10ea7e);}}finally{if(_0x48ee68[_0x20e7('89','0Tdw')]!=='cdYKX'){_0x48ee68[_0x20e7('8a','EljB')](_0x3331ae,_0x1fb26c);}else{if(_0x48ee68[_0x20e7('8b','zwfd')](typeof str,_0x48ee68[_0x20e7('8c','%kcd')])){try{return JSON[_0x20e7('8d','y84w')](str);}catch(_0x2e3595){console[_0x20e7('8e','@Cp4')](_0x2e3595);$['msg']($[_0x20e7('8f','Z]7d')],'',_0x48ee68['mChTU']);return[];}}}}}});});}function getTask(_0xab0f97={}){var _0x5043ff={'VZtqW':function(_0x612e0b,_0x4cf796){return _0x612e0b(_0x4cf796);},'MzObD':function(_0x2720f9,_0x31358f){return _0x2720f9===_0x31358f;},'nmLZp':_0x20e7('90','!EDi'),'TFpXg':'base','hHKZL':_0x20e7('91','Iyvi'),'vhhSv':'wxxlr','lkmUw':_0x20e7('92','%r&j'),'tPPFt':function(_0x4b9185,_0x2e0091){return _0x4b9185!==_0x2e0091;},'Jnmww':_0x20e7('93','4)[4'),'QeOYy':'iFVCE','UqeBE':function(_0x1ebd2f,_0x6f23c9){return _0x1ebd2f(_0x6f23c9);},'uJxOl':_0x20e7('94','kMcc'),'cSbLk':_0x20e7('95','fi!w'),'efHmY':_0x20e7('96','gWiJ'),'iwCwJ':_0x20e7('97','gWiJ')};return new Promise(_0xbc239f=>{var _0x5009a7={'KDjqq':function(_0xcbc619,_0x529ae){return _0x5043ff[_0x20e7('98','EljB')](_0xcbc619,_0x529ae);},'zNyCf':_0x5043ff[_0x20e7('99','XxPQ')],'eKJNJ':_0x5043ff['TFpXg'],'yiERm':_0x5043ff[_0x20e7('9a','gyH4')],'vdXyI':_0x5043ff[_0x20e7('9b','fIc(')],'VUcoF':_0x5043ff[_0x20e7('9c','On^4')],'xSuTt':function(_0x45e83a,_0x218677){return _0x5043ff[_0x20e7('9d',']eNZ')](_0x45e83a,_0x218677);},'zOOIj':'xnjGh','rWMRw':_0x5043ff['Jnmww'],'NkdEP':'FeGLy','luRbx':'PTPll','DpmbZ':function(_0x5a4da2,_0x3d9812){return _0x5043ff[_0x20e7('9e','[Ix1')](_0x5a4da2,_0x3d9812);}};if(_0x5043ff[_0x20e7('9f','RoC1')](_0x20e7('a0','y84w'),_0x5043ff['QeOYy'])){_0x5043ff[_0x20e7('a1','kMcc')](_0xbc239f,data);}else{const _0x4ff38f={'url':''+JD_API_HOST,'body':_0x20e7('a2','%kcd')+_0x5043ff[_0x20e7('a3','8x27')](escape,JSON[_0x20e7('a4','Iyvi')](_0xab0f97))+_0x20e7('a5','XxPQ'),'headers':{'User-Agent':$['isNode']()?process[_0x20e7('a6','@2b5')][_0x20e7('a7','*9$K')]?process['env'][_0x20e7('a8','On^4')]:require(_0x5043ff[_0x20e7('a9','@Cp4')])[_0x20e7('aa','0hd#')]:$[_0x20e7('ab','gWiJ')](_0x20e7('ac','Iyvi'))?$[_0x20e7('ad','%r&j')](_0x5043ff['cSbLk']):'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0','Host':_0x5043ff['efHmY'],'Content-Type':_0x5043ff['iwCwJ'],'Cookie':cookie}};$[_0x20e7('ae','@Cp4')](_0x4ff38f,(_0x176b2f,_0x91bf8b,_0x5d10e3)=>{try{if(_0x5009a7[_0x20e7('af','1bcx')](_0x20e7('b0','Z]7d'),_0x5009a7[_0x20e7('b1','Pj*Q')])){beanCount+=0x2;}else{if(_0x176b2f){if('UecZv'===_0x5009a7['VUcoF']){console[_0x20e7('b2','93i%')](_0x5009a7[_0x20e7('b3','bhc^')]);$[_0x20e7('b4','yS76')](_0x176b2f);}else{console[_0x20e7('b5','[0iy')]('京东服务器返回空数据');}}else{if(_0x5009a7['xSuTt'](_0x5009a7[_0x20e7('b6','5Juw')],_0x5009a7[_0x20e7('b7','yN6S')])){console[_0x20e7('b8','3d&E')](item[_0x20e7('b9','93i%')]+_0x20e7('ba','0Tdw'));}else{_0x5d10e3=JSON['parse'](_0x5d10e3);}}}}catch(_0x57563d){if(_0x5009a7['rWMRw']!==_0x5009a7[_0x20e7('bb','%r&j')]){$[_0x20e7('bc','5Juw')](_0x57563d,_0x91bf8b);}else{if(_0x5d10e3){_0x5d10e3=JSON[_0x20e7('bd','[0iy')](_0x5d10e3);if(_0x5009a7[_0x20e7('be','Pj*Q')](_0x5d10e3[_0x5009a7['zNyCf']],0xd)){$[_0x20e7('bf','EljB')]=![];return;}$[_0x20e7('c0','93i%')]=_0x5d10e3[_0x5009a7[_0x20e7('c1','NpC[')]][_0x20e7('c2','%tX8')];}else{console['log'](_0x20e7('c3','0Tdw'));}}}finally{if(_0x5009a7[_0x20e7('c4','%kcd')]!==_0x20e7('c5','v6r4')){_0x5009a7['DpmbZ'](_0xbc239f,_0x5d10e3);}else{console['log'](_0x5009a7[_0x20e7('c6','%tX8')]);$['logErr'](_0x176b2f);}}});}});}function TotalBean(){var _0x3ba43f={'xFAIw':function(_0x5ab9a3,_0x166c99){return _0x5ab9a3!==_0x166c99;},'nwMnx':_0x20e7('c7','4)[4'),'RqvUk':'RdViv','wPlzi':_0x20e7('c8','X8@W'),'xiOik':function(_0x3ec836,_0x9f84b0){return _0x3ec836===_0x9f84b0;},'WrzOl':_0x20e7('c9','*9$K'),'BRUZI':function(_0x25996b){return _0x25996b();},'JWpZi':_0x20e7('ca','VZAS'),'UjCrG':'application/x-www-form-urlencoded','hUgLQ':'zh-cn','avrOa':_0x20e7('cb','@Cp4'),'vneDj':'https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','rNOKK':_0x20e7('cc','rrjS')};return new Promise(async _0xe7f841=>{var _0x372df0={'koliU':function(_0xa55f9c,_0x2acc40){return _0x3ba43f['xFAIw'](_0xa55f9c,_0x2acc40);},'UNJOz':_0x3ba43f[_0x20e7('cd','93i%')],'luayf':_0x3ba43f['RqvUk'],'DJHWr':_0x3ba43f['wPlzi'],'dFzqE':function(_0x29f20b,_0x21b6c2){return _0x3ba43f[_0x20e7('ce','HTQu')](_0x29f20b,_0x21b6c2);},'XMahs':_0x3ba43f['WrzOl'],'esjQO':'base','ZSqsk':function(_0x545793){return _0x3ba43f[_0x20e7('cf','yN6S')](_0x545793);}};const _0x2a2d59={'url':_0x20e7('d0','bhc^'),'headers':{'Accept':_0x3ba43f[_0x20e7('d1','rrjS')],'Content-Type':_0x3ba43f[_0x20e7('d2','NpC[')],'Accept-Encoding':_0x20e7('d3','On^4'),'Accept-Language':_0x3ba43f[_0x20e7('d4','On^4')],'Connection':_0x3ba43f[_0x20e7('d5','LtY2')],'Cookie':cookie,'Referer':_0x3ba43f[_0x20e7('d6','On^4')],'User-Agent':$['isNode']()?process['env']['JD_USER_AGENT']?process[_0x20e7('d7','NpC[')][_0x20e7('d8','1bcx')]:require('./USER_AGENTS')[_0x20e7('d9','%kcd')]:$['getdata'](_0x3ba43f[_0x20e7('da','8x27')])?$[_0x20e7('db','!EDi')](_0x20e7('dc','4)[4')):'jdapp;iPhone;9.2.2;14.2;%E4%BA%AC%E4%B8%9C/9.2.2\x20CFNetwork/1206\x20Darwin/20.1.0'}};$['post'](_0x2a2d59,(_0x424501,_0x783c0,_0x4c5404)=>{if(_0x372df0['koliU'](_0x20e7('dd','#0Y@'),_0x372df0[_0x20e7('de','bhc^')])){try{if(_0x372df0[_0x20e7('df','sa#U')](_0x372df0[_0x20e7('e0','*9$K')],_0x372df0[_0x20e7('e1','8x27')])){if(_0x424501){console[_0x20e7('e2','!EDi')](''+JSON['stringify'](_0x424501));console[_0x20e7('1b','rMtB')]($[_0x20e7('e3','rrjS')]+'\x20API请求失败，请检查网路重试');}else{if(_0x4c5404){_0x4c5404=JSON[_0x20e7('4f','Pj*Q')](_0x4c5404);if(_0x372df0['dFzqE'](_0x4c5404[_0x372df0[_0x20e7('e4','gyH4')]],0xd)){$[_0x20e7('e5','0hd#')]=![];return;}$[_0x20e7('e6','!EDi')]=_0x4c5404[_0x372df0[_0x20e7('e7','*9$K')]][_0x20e7('e8','HTQu')];}else{console['log']('京东服务器返回空数据');}}}else{return JSON['parse'](str);}}catch(_0x54884c){$[_0x20e7('e9','0hd#')](_0x54884c,_0x783c0);}finally{_0x372df0[_0x20e7('ea','5XoP')](_0xe7f841);}}else{$[_0x20e7('eb','rrjS')]=![];return;}});});}function jsonParse(_0x1db202){var _0x168d59={'nZRmG':_0x20e7('ec','VZAS'),'pJIkY':function(_0x2ad116,_0x2157aa){return _0x2ad116==_0x2157aa;},'TNrQh':_0x20e7('ed','0hd#'),'avlqt':_0x20e7('ee','fi!w'),'ZAORG':_0x20e7('ef','kMcc')};if(_0x168d59[_0x20e7('f0','fi!w')](typeof _0x1db202,_0x168d59[_0x20e7('f1','y84w')])){try{return JSON[_0x20e7('f2','[Ix1')](_0x1db202);}catch(_0x2e7d52){if(_0x168d59['avlqt']!=='NjOkL'){console['log'](_0x2e7d52);$[_0x20e7('f3','bA3!')]($[_0x20e7('f4',']atD')],'',_0x168d59['ZAORG']);return[];}else{if(err){console[_0x20e7('10','XxPQ')](_0x168d59[_0x20e7('f5',']eNZ')]);$['logErr'](err);}else{data=JSON[_0x20e7('f6',']atD')](data);}}}}};_0xodP='jsjiami.com.v6';
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,o)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=e&&e.timeout?e.timeout:o;const[r,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),o=JSON.stringify(this.data);s?this.fs.writeFileSync(t,o):i?this.fs.writeFileSync(e,o):this.fs.writeFileSync(t,o)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let o=t;for(const t of i)if(o=Object(o)[t],void 0===o)return s;return o}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),o=s?this.getval(s):"";if(o)try{const t=JSON.parse(o);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),h=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,o,t),s=this.setval(JSON.stringify(e),i)}catch(e){const r={};this.lodash_set(r,o,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)}):this.isQuanX()?$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t)):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t)))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:o,body:r}=t;e(null,{status:s,statusCode:i,headers:o,body:r},r)},t=>e(t))}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",o){const r=t=>{if(!t||!this.isLoon()&&this.isSurge())return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}}};this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,r(o)):this.isQuanX()&&$notify(e,s,i,r(o)));let h=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];h.push(e),s&&h.push(s),i&&h.push(i),console.log(h.join("\n")),this.logs=this.logs.concat(h)}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
